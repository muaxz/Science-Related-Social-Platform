{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\bexsd\\\\Desktop\\\\nextproject\\\\client\\\\containers\\\\pages\\\\Content.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef, useContext, useCallback } from 'react';\nimport Icon from \"../../components/UI/Icon\";\nimport styled from \"styled-components\";\nimport { Porfileimage } from \"../../components/styledcomponents/Globalstyles\";\nimport { Producecommentreq, Commentreq, Commentanswerreq, Editcomment } from \"../../Api/requests\";\nimport { createusercontext } from \"../../context/Usercontext\";\nimport Commentpart from '../../components/pages/Content/Commentsection/Commentpart';\nimport useScroll from \"../../hooks/Scroll\";\nimport Parser from \"react-html-parser\";\nvar Exteriorcontent = styled.div.withConfig({\n  displayName: \"Content__Exteriorcontent\",\n  componentId: \"t38n1c-0\"\n})([\"background-color:\", \";max-width:950px;margin:50px auto;width:100%\"], function (_ref) {\n  var iscomment = _ref.iscomment;\n  return iscomment ? \"\" : \"white\";\n});\n_c = Exteriorcontent;\nvar Commentdiv = styled.div.withConfig({\n  displayName: \"Content__Commentdiv\",\n  componentId: \"t38n1c-1\"\n})([\"margin:50px auto;max-width:700px;\"]);\n_c2 = Commentdiv;\nvar ImageDiv = styled.div.withConfig({\n  displayName: \"Content__ImageDiv\",\n  componentId: \"t38n1c-2\"\n})([\"position:relative;width:100%;height:400px;\"]);\n_c3 = ImageDiv;\nvar ContentDiv = styled.div.withConfig({\n  displayName: \"Content__ContentDiv\",\n  componentId: \"t38n1c-3\"\n})([\"margin-top:20px;padding:25px;\"]);\n_c4 = ContentDiv;\nvar ProfileDiv = styled.div.withConfig({\n  displayName: \"Content__ProfileDiv\",\n  componentId: \"t38n1c-4\"\n})([\"box-sizing:border-box;padding-left:25px;padding-top:15px;padding-bottom:15px;display:flex;align-items:center;\"]);\n_c5 = ProfileDiv;\nvar Attribute = styled.div.withConfig({\n  displayName: \"Content__Attribute\",\n  componentId: \"t38n1c-5\"\n})([\"display:\", \";position:absolute;top:35px;right:35px;border-radius:7px;background-color:white;\"], function (_ref2) {\n  var active = _ref2.active;\n  return active ? \"block\" : \"none\";\n});\n_c6 = Attribute;\nvar Attributeholder = styled.div.withConfig({\n  displayName: \"Content__Attributeholder\",\n  componentId: \"t38n1c-6\"\n})([\"display:flex;align-items:center;border-radius:7px;padding:5px;&:hover{background-color:#E2E3E3;cursor:pointer;}\"]); //todo map array to create attribute list\n\n_c7 = Attributeholder;\nexport default function Content(_ref3) {\n  _s();\n\n  var _this = this;\n\n  var Contentdata = _ref3.Contentdata,\n      comments = _ref3.comments,\n      id = _ref3.id;\n  console.log(Contentdata);\n\n  var _useRef = useRef([{\n    icon: \"fas fa-bookmark\",\n    desc: \"Gönderiyi Kaydet\"\n  }, {\n    icon: \"fas fa-thumbs-up\",\n    desc: \"Gönderiyi Beğen\"\n  }, {\n    icon: \"fas fa-retweet\",\n    desc: \"Gönderiyi Profil Sayfamda Göster\"\n  }]),\n      current = _useRef.current;\n\n  var _useScroll = useScroll(),\n      bottom = _useScroll.bottom;\n\n  var _useState = useState(Contentdata),\n      content = _useState[0],\n      setcontent = _useState[1];\n\n  var _useState2 = useState(comments),\n      commentlist = _useState2[0],\n      setcommentlist = _useState2[1];\n\n  var _useState3 = useState(0),\n      numberofcomment = _useState3[0],\n      setnumbercom = _useState3[1];\n\n  var _useState4 = useState(false),\n      active = _useState4[0],\n      setactive = _useState4[1];\n\n  var _useState5 = useState(false),\n      actives = _useState5[0],\n      seterrmsg = _useState5[1];\n\n  var _useState6 = useState(false),\n      activeproduce = _useState6[0],\n      setactiveproduce = _useState6[1];\n\n  var _useContext = useContext(createusercontext),\n      userdata = _useContext.userdata; //const {id}=router.query;\n\n\n  console.log(commentlist);\n  useEffect(function () {\n    if (numberofcomment > 0) {\n      //ilk sayfa geldiginde isteği önlemk için\n      setactiveproduce(true);\n      Commentreq({\n        contentId: id,\n        setcomment: setcommentlist,\n        commentlist: commentlist,\n        last: true,\n        order: commentlist.length + 10,\n        setactiveproduce: setactiveproduce,\n        seterrmsg: seterrmsg\n      });\n    }\n  }, [numberofcomment]);\n  useEffect(function () {\n    if (bottom) {\n      Commentreq({\n        contentId: id,\n        setcomment: setcommentlist,\n        commentlist: commentlist,\n        last: false,\n        order: commentlist.length + 10,\n        setactiveproduce: setactiveproduce,\n        seterrmsg: seterrmsg\n      });\n    }\n  }, [bottom]);\n  useEffect(function () {\n    //changeable\n    setcontent(Contentdata);\n    setcommentlist(comments);\n  }, [id]);\n  var Produce = useCallback(function (message) {\n    console.log(content.personal.id);\n    Producecommentreq({\n      ContentId: id,\n      UserId: userdata.UserId,\n      Message: message,\n      TakerId: content.personal.id,\n      setnumbercom: setnumbercom,\n      seterrmsg: seterrmsg\n    });\n  }, [userdata.UserId]);\n\n  var Answerhandler = function Answerhandler(Answer, UpperId, MainparentID) {\n    console.log(\"BURADAAA\");\n    Commentanswerreq({\n      UppercommentId: UpperId,\n      UserId: userdata.UserId,\n      Answer: Answer,\n      ContentId: id,\n      //post\n      MainparentID: MainparentID,\n      setcommentlist: setcommentlist,\n      commentlist: commentlist\n    });\n  };\n\n  var EditCommentFunc = function EditCommentFunc(_ref4) {\n    var commentID = _ref4.commentID,\n        message = _ref4.message,\n        setloading = _ref4.setloading,\n        seteditcomment = _ref4.seteditcomment;\n    console.log(\"burada\");\n    Editcomment({\n      commentID: commentID,\n      message: message,\n      setloading: setloading,\n      seteditcomment: seteditcomment\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"950px\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Exteriorcontent, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ImageDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/car.jpg\",\n            style: {\n              objectFit: \"cover\",\n              width: \"100%\",\n              height: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Icon, {\n            activefunc: function activefunc() {\n              return setactive(!active);\n            },\n            className: \"fas fa-ellipsis-h\",\n            Iconconfig: {\n              position: \"absolute\",\n              top: \"10px\",\n              right: \"10px\",\n              color: \"white\",\n              borderRadius: \"50%\",\n              width: \"25px\",\n              height: \"25px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Attribute, {\n            active: active,\n            children: current.map(function (item) {\n              return /*#__PURE__*/_jsxDEV(Attributeholder, {\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  className: item.icon,\n                  Iconconfig: {\n                    width: \"28px\",\n                    height: \"28px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 33\n                }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: \"5px\",\n                    fontSize: \"13px\"\n                  },\n                  children: item.desc\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 33\n                }, _this)]\n              }, item.icon, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 29\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProfileDiv, {\n          children: [/*#__PURE__*/_jsxDEV(Porfileimage, {\n            profile: \"/black.jpg\",\n            width: \"40px\",\n            height: \"40px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Duhan \\xD6zt\\xFCrk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#5c6b73\",\n                fontSize: \"15px\"\n              },\n              children: \"12/08/2020\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ContentDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: \"10px\",\n              color: \"#e63946\"\n            },\n            children: \" The state plans to pay around 20 percent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: \"The structre of the culture in ottoman empire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"editor\",\n            \"class\": \"ck-content\",\n            children: Parser(Contentdata.content)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: commentlist.length + \" Yorum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Commentdiv, {\n      children: /*#__PURE__*/_jsxDEV(Commentpart, {\n        Editcommenthandler: EditCommentFunc,\n        handleanswer: Answerhandler,\n        spinner: activeproduce,\n        list: commentlist,\n        Producecomment: Produce\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Content, \"zxfcipFpwxRUcUr2SBxW0ofv9TM=\", false, function () {\n  return [useScroll];\n});\n\n_c8 = Content;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Exteriorcontent\");\n$RefreshReg$(_c2, \"Commentdiv\");\n$RefreshReg$(_c3, \"ImageDiv\");\n$RefreshReg$(_c4, \"ContentDiv\");\n$RefreshReg$(_c5, \"ProfileDiv\");\n$RefreshReg$(_c6, \"Attribute\");\n$RefreshReg$(_c7, \"Attributeholder\");\n$RefreshReg$(_c8, \"Content\");","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/containers/pages/Content.js"],"names":["React","useEffect","useState","useRef","useContext","useCallback","Icon","styled","Porfileimage","Producecommentreq","Commentreq","Commentanswerreq","Editcomment","createusercontext","Commentpart","useScroll","Parser","Exteriorcontent","div","iscomment","Commentdiv","ImageDiv","ContentDiv","ProfileDiv","Attribute","active","Attributeholder","Content","Contentdata","comments","id","console","log","icon","desc","current","bottom","content","setcontent","commentlist","setcommentlist","numberofcomment","setnumbercom","setactive","actives","seterrmsg","activeproduce","setactiveproduce","userdata","contentId","setcomment","last","order","length","Produce","message","personal","ContentId","UserId","Message","TakerId","Answerhandler","Answer","UpperId","MainparentID","UppercommentId","EditCommentFunc","commentID","setloading","seteditcomment","maxWidth","margin","objectFit","width","height","position","top","right","color","borderRadius","map","item","marginLeft","fontSize","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect,useState,useRef, useContext,useCallback} from 'react'\r\nimport Icon from \"../../components/UI/Icon\";\r\nimport styled from \"styled-components\";\r\nimport {Porfileimage} from \"../../components/styledcomponents/Globalstyles\";\r\nimport {Producecommentreq,Commentreq,Commentanswerreq,Editcomment} from \"../../Api/requests\";\r\nimport {createusercontext} from \"../../context/Usercontext\";\r\nimport Commentpart from '../../components/pages/Content/Commentsection/Commentpart';\r\nimport useScroll from \"../../hooks/Scroll\"\r\nimport Parser from \"react-html-parser\"\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Exteriorcontent=styled.div`\r\nbackground-color:${({iscomment})=>iscomment ? \"\" : \"white\"};\r\nmax-width:950px;\r\nmargin:50px auto;\r\nwidth:100%\r\n`\r\n\r\nconst Commentdiv=styled.div`\r\nmargin:50px auto;\r\nmax-width:700px;\r\n`\r\n\r\nconst ImageDiv=styled.div`\r\nposition:relative;\r\nwidth:100%;\r\nheight:400px;\r\n`\r\n\r\nconst ContentDiv=styled.div`\r\nmargin-top:20px;\r\npadding:25px;\r\n`\r\n\r\nconst ProfileDiv=styled.div`\r\nbox-sizing:border-box;\r\npadding-left:25px;\r\npadding-top:15px;\r\npadding-bottom:15px;\r\ndisplay:flex;\r\nalign-items:center;\r\n`\r\n\r\nconst Attribute=styled.div`\r\ndisplay:${({active})=>active ? \"block\" : \"none\"};\r\nposition:absolute;\r\ntop:35px;\r\nright:35px;\r\nborder-radius:7px;\r\nbackground-color:white;\r\n`\r\n\r\n\r\n\r\nconst Attributeholder=styled.div`\r\ndisplay:flex;\r\nalign-items:center;\r\nborder-radius:7px;\r\npadding:5px;\r\n&:hover{\r\n background-color:#E2E3E3;\r\n cursor:pointer;\r\n}\r\n`\r\n//todo map array to create attribute list\r\n\r\nexport default function Content({Contentdata,comments,id}){\r\n    console.log(Contentdata)\r\n    const {current}=useRef([{icon:\"fas fa-bookmark\",desc:\"Gönderiyi Kaydet\"},{icon:\"fas fa-thumbs-up\",desc:\"Gönderiyi Beğen\"},{icon:\"fas fa-retweet\",desc:\"Gönderiyi Profil Sayfamda Göster\"}])\r\n    const {bottom} = useScroll();\r\n    const [content,setcontent]=useState(Contentdata);\r\n    const [commentlist,setcommentlist]=useState(comments);\r\n    const [numberofcomment,setnumbercom]=useState(0);\r\n    const [active,setactive]=useState(false);\r\n    const [actives,seterrmsg]=useState(false);\r\n    const [activeproduce,setactiveproduce]=useState(false);\r\n    const {userdata}=useContext(createusercontext);\r\n    //const {id}=router.query;\r\n  \r\n    console.log(commentlist)\r\n    useEffect(()=>{\r\n\r\n        if(numberofcomment > 0){\r\n            //ilk sayfa geldiginde isteği önlemk için\r\n            setactiveproduce(true);\r\n            Commentreq({\r\n                contentId:id,\r\n                setcomment:setcommentlist,\r\n                commentlist:commentlist,\r\n                last:true,\r\n                order:commentlist.length+10,\r\n                setactiveproduce:setactiveproduce,\r\n                seterrmsg:seterrmsg,\r\n            })\r\n        }\r\n\r\n    },[numberofcomment])\r\n\r\n    useEffect(()=>{\r\n\r\n       if(bottom){\r\n            \r\n            Commentreq({\r\n                contentId:id,\r\n                setcomment:setcommentlist,\r\n                commentlist:commentlist,\r\n                last:false,\r\n                order:commentlist.length+10,\r\n                setactiveproduce:setactiveproduce,\r\n                seterrmsg:seterrmsg,\r\n            })\r\n\r\n       }\r\n\r\n    },[bottom])\r\n\r\n    useEffect(()=>{\r\n       //changeable\r\n       setcontent(Contentdata);\r\n       setcommentlist(comments);\r\n    },[id])\r\n    \r\n    const Produce=useCallback((message)=>{\r\n        console.log(content.personal.id)\r\n        Producecommentreq({\r\n            ContentId:id,\r\n            UserId:userdata.UserId,\r\n            Message:message,\r\n            TakerId:content.personal.id,\r\n            setnumbercom:setnumbercom,\r\n            seterrmsg:seterrmsg,\r\n        })\r\n\r\n    },[userdata.UserId])\r\n\r\n    const Answerhandler=(Answer,UpperId,MainparentID)=>{\r\n          console.log(\"BURADAAA\")\r\n          Commentanswerreq({\r\n              UppercommentId:UpperId,\r\n              UserId:userdata.UserId,\r\n              Answer:Answer,\r\n              ContentId:id,//post\r\n              MainparentID:MainparentID,\r\n              setcommentlist:setcommentlist,\r\n              commentlist:commentlist\r\n          })\r\n\r\n    }\r\n\r\n    const EditCommentFunc=({commentID,message,setloading,seteditcomment})=>{\r\n        console.log(\"burada\")\r\n        Editcomment({\r\n            commentID:commentID,\r\n            message:message,\r\n            setloading:setloading,\r\n            seteditcomment:seteditcomment\r\n        })\r\n\r\n    }\r\n   \r\n    return (\r\n        <div style={{maxWidth:\"950px\",margin:\"auto\"}}>\r\n            <Exteriorcontent>\r\n                <div>\r\n                    <ImageDiv>\r\n                        <img src={\"/car.jpg\"} style={{objectFit:\"cover\",width:\"100%\",height:\"100%\"}} ></img>\r\n                        <Icon  activefunc={()=>setactive(!active)} className=\"fas fa-ellipsis-h\" Iconconfig={{position:\"absolute\",top:\"10px\",right:\"10px\",color:\"white\",borderRadius:\"50%\",width:\"25px\",height:\"25px\"}}></Icon>\r\n                        <Attribute active={active}>\r\n                            {current.map(item=>(\r\n                            <Attributeholder key={item.icon}>\r\n                                <Icon className={item.icon} Iconconfig={{width:\"28px\",height:\"28px\"}}></Icon>\r\n                                <span style={{marginLeft:\"5px\",fontSize:\"13px\"}}>{item.desc}</span>\r\n                            </Attributeholder>  \r\n                            ))}\r\n                        </Attribute>\r\n                    </ImageDiv>\r\n                    <ProfileDiv>\r\n                        <Porfileimage profile=\"/black.jpg\" width=\"40px\" height=\"40px\"></Porfileimage>\r\n                        <div style={{marginLeft:\"10px\"}}>\r\n                            <span>Duhan Öztürk</span>\r\n                            <p style={{color:\"#5c6b73\",fontSize:\"15px\"}}>12/08/2020</p>\r\n                        </div>\r\n                        \r\n                    </ProfileDiv>\r\n                    <ContentDiv>\r\n                        <h2 style={{marginBottom:\"10px\",color:\"#e63946\"}}> The state plans to pay around 20 percent</h2>\r\n                        <h3 style={{marginBottom:\"10px\"}}>The structre of the culture in ottoman empire</h3>\r\n                        <div id=\"editor\" class=\"ck-content\">\r\n                            \r\n                            {Parser(Contentdata.content)}\r\n                            \r\n                        </div>\r\n                    </ContentDiv>\r\n                </div>\r\n            </Exteriorcontent>\r\n            <hr></hr>\r\n            <p>{commentlist.length+ \" Yorum\"}</p>\r\n            <Commentdiv>\r\n                <Commentpart  Editcommenthandler={EditCommentFunc} handleanswer={Answerhandler} spinner={activeproduce} list={commentlist} Producecomment={Produce}></Commentpart>\r\n            </Commentdiv>\r\n        </div>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}