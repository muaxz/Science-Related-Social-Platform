{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\bexsd\\\\Desktop\\\\nextproject\\\\client\\\\containers\\\\pages\\\\Content.js\";\nimport React, { useEffect, useState, useRef, useContext, useCallback } from 'react';\nimport Icon from \"../../components/UI/Icon\";\nimport styled from \"styled-components\";\nimport { Porfileimage } from \"../../components/styledcomponents/Globalstyles\";\nimport { Producecommentreq, Commentreq, Commentanswerreq, Editcomment } from \"../../Api/requests\";\nimport { createusercontext } from \"../../context/Usercontext\";\nimport Commentpart from '../../components/pages/Content/Commentsection/Commentpart';\nimport useScroll from \"../../hooks/Scroll\";\nimport Parser from \"react-html-parser\";\nconst Exteriorcontent = styled.div.withConfig({\n  displayName: \"Content__Exteriorcontent\",\n  componentId: \"t38n1c-0\"\n})([\"background-color:\", \";max-width:950px;margin:50px auto;width:100%\"], ({\n  iscomment\n}) => iscomment ? \"\" : \"white\");\nconst Commentdiv = styled.div.withConfig({\n  displayName: \"Content__Commentdiv\",\n  componentId: \"t38n1c-1\"\n})([\"margin:50px auto;max-width:700px;\"]);\nconst ImageDiv = styled.div.withConfig({\n  displayName: \"Content__ImageDiv\",\n  componentId: \"t38n1c-2\"\n})([\"position:relative;width:100%;height:400px;\"]);\nconst ContentDiv = styled.div.withConfig({\n  displayName: \"Content__ContentDiv\",\n  componentId: \"t38n1c-3\"\n})([\"margin-top:20px;padding:25px;\"]);\nconst ProfileDiv = styled.div.withConfig({\n  displayName: \"Content__ProfileDiv\",\n  componentId: \"t38n1c-4\"\n})([\"box-sizing:border-box;padding-left:25px;padding-top:15px;padding-bottom:15px;display:flex;align-items:center;\"]);\nconst Attribute = styled.div.withConfig({\n  displayName: \"Content__Attribute\",\n  componentId: \"t38n1c-5\"\n})([\"display:\", \";position:absolute;top:35px;right:35px;border-radius:7px;background-color:white;\"], ({\n  active\n}) => active ? \"block\" : \"none\");\nconst Attributeholder = styled.div.withConfig({\n  displayName: \"Content__Attributeholder\",\n  componentId: \"t38n1c-6\"\n})([\"display:flex;align-items:center;border-radius:7px;padding:5px;&:hover{background-color:#E2E3E3;cursor:pointer;}\"]); //todo map array to create attribute list\n\nexport default function Content({\n  Contentdata,\n  comments,\n  id\n}) {\n  console.log(Contentdata);\n  const {\n    current\n  } = useRef([{\n    icon: \"fas fa-bookmark\",\n    desc: \"Gönderiyi Kaydet\"\n  }, {\n    icon: \"fas fa-thumbs-up\",\n    desc: \"Gönderiyi Beğen\"\n  }, {\n    icon: \"fas fa-retweet\",\n    desc: \"Gönderiyi Profil Sayfamda Göster\"\n  }]);\n  const {\n    bottom\n  } = useScroll();\n  const {\n    0: content,\n    1: setcontent\n  } = useState(Contentdata);\n  const {\n    0: commentlist,\n    1: setcommentlist\n  } = useState(comments);\n  const {\n    0: numberofcomment,\n    1: setnumbercom\n  } = useState(0);\n  const {\n    0: active,\n    1: setactive\n  } = useState(false);\n  const {\n    0: actives,\n    1: seterrmsg\n  } = useState(false);\n  const {\n    0: activeproduce,\n    1: setactiveproduce\n  } = useState(false);\n  const {\n    userdata\n  } = useContext(createusercontext); //const {id}=router.query;\n\n  console.log(commentlist);\n  useEffect(() => {\n    if (numberofcomment > 0) {\n      //ilk sayfa geldiginde isteği önlemk için\n      setactiveproduce(true);\n      Commentreq({\n        contentId: id,\n        setcomment: setcommentlist,\n        commentlist: commentlist,\n        last: true,\n        order: commentlist.length + 10,\n        setactiveproduce: setactiveproduce,\n        seterrmsg: seterrmsg\n      });\n    }\n  }, [numberofcomment]);\n  useEffect(() => {\n    if (bottom) {\n      Commentreq({\n        contentId: id,\n        setcomment: setcommentlist,\n        commentlist: commentlist,\n        last: false,\n        order: commentlist.length + 10,\n        setactiveproduce: setactiveproduce,\n        seterrmsg: seterrmsg\n      });\n    }\n  }, [bottom]);\n  useEffect(() => {\n    //changeable\n    setcontent(Contentdata);\n    setcommentlist(comments);\n  }, [id]);\n  const Produce = useCallback(message => {\n    console.log(content.personal.id);\n    Producecommentreq({\n      ContentId: id,\n      UserId: userdata.UserId,\n      Message: message,\n      TakerId: content.personal.id,\n      setnumbercom: setnumbercom,\n      seterrmsg: seterrmsg\n    });\n  }, [userdata.UserId]);\n\n  const Answerhandler = (Answer, UpperId, MainparentID) => {\n    console.log(\"BURADAAA\");\n    Commentanswerreq({\n      UppercommentId: UpperId,\n      UserId: userdata.UserId,\n      Answer: Answer,\n      ContentId: id,\n      //post\n      MainparentID: MainparentID,\n      setcommentlist: setcommentlist,\n      commentlist: commentlist\n    });\n  };\n\n  const EditCommentFunc = ({\n    commentID,\n    message,\n    setloading,\n    seteditcomment\n  }) => {\n    console.log(\"burada\");\n    Editcomment({\n      commentID: commentID,\n      message: message,\n      setloading: setloading,\n      seteditcomment: seteditcomment\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"950px\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Exteriorcontent, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ImageDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/car.jpg\",\n            style: {\n              objectFit: \"cover\",\n              width: \"100%\",\n              height: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Icon, {\n            activefunc: () => setactive(!active),\n            className: \"fas fa-ellipsis-h\",\n            Iconconfig: {\n              position: \"absolute\",\n              top: \"10px\",\n              right: \"10px\",\n              color: \"white\",\n              borderRadius: \"50%\",\n              width: \"25px\",\n              height: \"25px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Attribute, {\n            active: active,\n            children: current.map(item => /*#__PURE__*/_jsxDEV(Attributeholder, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                className: item.icon,\n                Iconconfig: {\n                  width: \"28px\",\n                  height: \"28px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: \"5px\",\n                  fontSize: \"13px\"\n                },\n                children: item.desc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this)]\n            }, item.icon, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProfileDiv, {\n          children: [/*#__PURE__*/_jsxDEV(Porfileimage, {\n            profile: \"/black.jpg\",\n            width: \"40px\",\n            height: \"40px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Duhan \\xD6zt\\xFCrk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#5c6b73\",\n                fontSize: \"15px\"\n              },\n              children: \"12/08/2020\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ContentDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: \"10px\",\n              color: \"#e63946\"\n            },\n            children: \" The state plans to pay around 20 percent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: \"The structre of the culture in ottoman empire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              wordBreak: \"break-word\"\n            },\n            id: \"editor\",\n            className: \"ck-content\",\n            children: Parser(Contentdata.content)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        clear: \"right\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        clear: \"right\"\n      },\n      children: commentlist.length + \" Yorum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Commentdiv, {\n      children: /*#__PURE__*/_jsxDEV(Commentpart, {\n        Editcommenthandler: EditCommentFunc,\n        handleanswer: Answerhandler,\n        spinner: activeproduce,\n        list: commentlist,\n        Producecomment: Produce\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/containers/pages/Content.js"],"names":["React","useEffect","useState","useRef","useContext","useCallback","Icon","styled","Porfileimage","Producecommentreq","Commentreq","Commentanswerreq","Editcomment","createusercontext","Commentpart","useScroll","Parser","Exteriorcontent","div","iscomment","Commentdiv","ImageDiv","ContentDiv","ProfileDiv","Attribute","active","Attributeholder","Content","Contentdata","comments","id","console","log","current","icon","desc","bottom","content","setcontent","commentlist","setcommentlist","numberofcomment","setnumbercom","setactive","actives","seterrmsg","activeproduce","setactiveproduce","userdata","contentId","setcomment","last","order","length","Produce","message","personal","ContentId","UserId","Message","TakerId","Answerhandler","Answer","UpperId","MainparentID","UppercommentId","EditCommentFunc","commentID","setloading","seteditcomment","maxWidth","margin","objectFit","width","height","position","top","right","color","borderRadius","map","item","marginLeft","fontSize","marginBottom","wordBreak","clear"],"mappings":"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","sourcesContent":["import React, { useEffect,useState,useRef, useContext,useCallback} from 'react'\r\nimport Icon from \"../../components/UI/Icon\";\r\nimport styled from \"styled-components\";\r\nimport {Porfileimage} from \"../../components/styledcomponents/Globalstyles\";\r\nimport {Producecommentreq,Commentreq,Commentanswerreq,Editcomment} from \"../../Api/requests\";\r\nimport {createusercontext} from \"../../context/Usercontext\";\r\nimport Commentpart from '../../components/pages/Content/Commentsection/Commentpart';\r\nimport useScroll from \"../../hooks/Scroll\"\r\nimport Parser from \"react-html-parser\"\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Exteriorcontent=styled.div`\r\nbackground-color:${({iscomment})=>iscomment ? \"\" : \"white\"};\r\nmax-width:950px;\r\nmargin:50px auto;\r\nwidth:100%\r\n`\r\n\r\nconst Commentdiv=styled.div`\r\nmargin:50px auto;\r\nmax-width:700px;\r\n`\r\n\r\nconst ImageDiv=styled.div`\r\nposition:relative;\r\nwidth:100%;\r\nheight:400px;\r\n`\r\n\r\nconst ContentDiv=styled.div`\r\nmargin-top:20px;\r\npadding:25px;\r\n`\r\n\r\nconst ProfileDiv=styled.div`\r\nbox-sizing:border-box;\r\npadding-left:25px;\r\npadding-top:15px;\r\npadding-bottom:15px;\r\ndisplay:flex;\r\nalign-items:center;\r\n`\r\n\r\nconst Attribute=styled.div`\r\ndisplay:${({active})=>active ? \"block\" : \"none\"};\r\nposition:absolute;\r\ntop:35px;\r\nright:35px;\r\nborder-radius:7px;\r\nbackground-color:white;\r\n`\r\n\r\n\r\n\r\nconst Attributeholder=styled.div`\r\ndisplay:flex;\r\nalign-items:center;\r\nborder-radius:7px;\r\npadding:5px;\r\n&:hover{\r\n background-color:#E2E3E3;\r\n cursor:pointer;\r\n}\r\n`\r\n//todo map array to create attribute list\r\n\r\nexport default function Content({Contentdata,comments,id}){\r\n    console.log(Contentdata)\r\n    const {current}=useRef([{icon:\"fas fa-bookmark\",desc:\"Gönderiyi Kaydet\"},{icon:\"fas fa-thumbs-up\",desc:\"Gönderiyi Beğen\"},{icon:\"fas fa-retweet\",desc:\"Gönderiyi Profil Sayfamda Göster\"}])\r\n    const {bottom} = useScroll();\r\n    const [content,setcontent]=useState(Contentdata);\r\n    const [commentlist,setcommentlist]=useState(comments);\r\n    const [numberofcomment,setnumbercom]=useState(0);\r\n    const [active,setactive]=useState(false);\r\n    const [actives,seterrmsg]=useState(false);\r\n    const [activeproduce,setactiveproduce]=useState(false);\r\n    const {userdata}=useContext(createusercontext);\r\n    //const {id}=router.query;\r\n  \r\n    console.log(commentlist)\r\n    useEffect(()=>{\r\n\r\n        if(numberofcomment > 0){\r\n            //ilk sayfa geldiginde isteği önlemk için\r\n            setactiveproduce(true);\r\n            Commentreq({\r\n                contentId:id,\r\n                setcomment:setcommentlist,\r\n                commentlist:commentlist,\r\n                last:true,\r\n                order:commentlist.length+10,\r\n                setactiveproduce:setactiveproduce,\r\n                seterrmsg:seterrmsg,\r\n            })\r\n        }\r\n\r\n    },[numberofcomment])\r\n\r\n    useEffect(()=>{\r\n\r\n       if(bottom){\r\n            \r\n            Commentreq({\r\n                contentId:id,\r\n                setcomment:setcommentlist,\r\n                commentlist:commentlist,\r\n                last:false,\r\n                order:commentlist.length+10,\r\n                setactiveproduce:setactiveproduce,\r\n                seterrmsg:seterrmsg,\r\n            })\r\n\r\n       }\r\n\r\n    },[bottom])\r\n\r\n    useEffect(()=>{\r\n       //changeable\r\n       setcontent(Contentdata);\r\n       setcommentlist(comments);\r\n    },[id])\r\n    \r\n    const Produce=useCallback((message)=>{\r\n        console.log(content.personal.id)\r\n        Producecommentreq({\r\n            ContentId:id,\r\n            UserId:userdata.UserId,\r\n            Message:message,\r\n            TakerId:content.personal.id,\r\n            setnumbercom:setnumbercom,\r\n            seterrmsg:seterrmsg,\r\n        })\r\n\r\n    },[userdata.UserId])\r\n\r\n    const Answerhandler=(Answer,UpperId,MainparentID)=>{\r\n          console.log(\"BURADAAA\")\r\n          Commentanswerreq({\r\n              UppercommentId:UpperId,\r\n              UserId:userdata.UserId,\r\n              Answer:Answer,\r\n              ContentId:id,//post\r\n              MainparentID:MainparentID,\r\n              setcommentlist:setcommentlist,\r\n              commentlist:commentlist\r\n          })\r\n\r\n    }\r\n\r\n    const EditCommentFunc=({commentID,message,setloading,seteditcomment})=>{\r\n        console.log(\"burada\")\r\n        Editcomment({\r\n            commentID:commentID,\r\n            message:message,\r\n            setloading:setloading,\r\n            seteditcomment:seteditcomment\r\n        })\r\n\r\n    }\r\n   \r\n    return (\r\n        <div style={{maxWidth:\"950px\",margin:\"auto\"}}>\r\n            <Exteriorcontent>\r\n                <div>\r\n                    <ImageDiv>\r\n                        <img src={\"/car.jpg\"} style={{objectFit:\"cover\",width:\"100%\",height:\"100%\"}} ></img>\r\n                        <Icon  activefunc={()=>setactive(!active)} className=\"fas fa-ellipsis-h\" Iconconfig={{position:\"absolute\",top:\"10px\",right:\"10px\",color:\"white\",borderRadius:\"50%\",width:\"25px\",height:\"25px\"}}></Icon>\r\n                        <Attribute active={active}>\r\n                            {current.map(item=>(\r\n                            <Attributeholder key={item.icon}>\r\n                                <Icon className={item.icon} Iconconfig={{width:\"28px\",height:\"28px\"}}></Icon>\r\n                                <span style={{marginLeft:\"5px\",fontSize:\"13px\"}}>{item.desc}</span>\r\n                            </Attributeholder>  \r\n                            ))}\r\n                        </Attribute>\r\n                    </ImageDiv>\r\n                    <ProfileDiv>\r\n                        <Porfileimage profile=\"/black.jpg\" width=\"40px\" height=\"40px\"></Porfileimage>\r\n                        <div style={{marginLeft:\"10px\"}}>\r\n                            <span>Duhan Öztürk</span>\r\n                            <p style={{color:\"#5c6b73\",fontSize:\"15px\"}}>12/08/2020</p>\r\n                        </div>\r\n                        \r\n                    </ProfileDiv>\r\n                    <ContentDiv>\r\n                        <h2 style={{marginBottom:\"10px\",color:\"#e63946\"}}> The state plans to pay around 20 percent</h2>\r\n                        <h3 style={{marginBottom:\"10px\"}}>The structre of the culture in ottoman empire</h3>\r\n                        <div style={{wordBreak:\"break-word\"}} id=\"editor\" className=\"ck-content\">\r\n                            \r\n                            {Parser(Contentdata.content)}\r\n                            \r\n                        </div>\r\n                    </ContentDiv>\r\n                </div>\r\n            </Exteriorcontent>\r\n            <hr style={{clear:\"right\"}}></hr>\r\n            <p style={{clear:\"right\"}}>{commentlist.length+ \" Yorum\"}</p>\r\n            <Commentdiv>\r\n                <Commentpart  Editcommenthandler={EditCommentFunc} handleanswer={Answerhandler} spinner={activeproduce} list={commentlist} Producecomment={Produce}></Commentpart>\r\n            </Commentdiv>\r\n        </div>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}