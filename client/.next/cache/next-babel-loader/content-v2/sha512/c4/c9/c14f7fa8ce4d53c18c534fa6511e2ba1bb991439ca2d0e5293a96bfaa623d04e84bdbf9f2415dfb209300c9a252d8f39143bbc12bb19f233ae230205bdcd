{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3001\";\nexport var loginreq = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var setlogged, setuserdata, userdata, router, seterrmsg, setbackenderror, setactive, _yield$axios$post, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setlogged = _ref.setlogged, setuserdata = _ref.setuserdata, userdata = _ref.userdata, router = _ref.router, seterrmsg = _ref.seterrmsg, setbackenderror = _ref.setbackenderror, setactive = _ref.setactive;\n            _context.prev = 1;\n            _context.next = 4;\n            return axios.post(\"/login\", {\n              userdata: userdata\n            });\n\n          case 4:\n            _yield$axios$post = _context.sent;\n            data = _yield$axios$post.data;\n            console.log(data);\n\n            if (data.wrong = \"WP\") {\n              setbackenderror(\"WP\");\n              setactive(true);\n            } else if (data.wrong = \"WE\") {\n              setbackenderror(\"WE\");\n              setactive(true);\n            } else {\n              setlogged(true);\n              setuserdata(data.Userdata);\n              localStorage.setItem(\"_TOKEN\", data.token); //http cookie only ile store edicez\n\n              router.push(\"/\");\n            }\n\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            seterrmsg(true);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 10]]);\n  }));\n\n  return function loginreq(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var resigterreq = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3) {\n    var setbackenderror, userdata, setactive, seterrmsg, _yield$axios$post2, data;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setbackenderror = _ref3.setbackenderror, userdata = _ref3.userdata, setactive = _ref3.setactive, seterrmsg = _ref3.seterrmsg;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return axios.post(\"/register\", {\n              userdata: userdata\n            });\n\n          case 4:\n            _yield$axios$post2 = _context2.sent;\n            data = _yield$axios$post2.data;\n\n            if (data.exist) {\n              setbackenderror(\"EXİST\");\n              setactive(true);\n            } else {//kayıt olmanız başarılı\n            }\n\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](1);\n            seterrmsg(true);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n\n  return function resigterreq(_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var producereq = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref5) {\n    var contentdata, seterrmsg, setwindow, _yield$axios$post3, data;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            contentdata = _ref5.contentdata, seterrmsg = _ref5.seterrmsg, setwindow = _ref5.setwindow;\n            _context3.prev = 1;\n            _context3.next = 4;\n            return axios.post(\"/post/produce\", {\n              contentdata: contentdata\n            });\n\n          case 4:\n            _yield$axios$post3 = _context3.sent;\n            data = _yield$axios$post3.data;\n\n            if (data.state == \"success\") {\n              setwindow(true); //we route işlemi\n            } else {\n              seterrmsg(true);\n            }\n\n            _context3.next = 12;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](1);\n            seterrmsg(true);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n\n  return function producereq(_x3) {\n    return _ref6.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/Api/Api.js"],"names":["axios","defaults","baseURL","loginreq","setlogged","setuserdata","userdata","router","seterrmsg","setbackenderror","setactive","post","data","console","log","wrong","Userdata","localStorage","setItem","token","push","resigterreq","exist","producereq","contentdata","setwindow","state"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL=\"http://localhost:3001\";\r\n\r\nexport const loginreq=async({setlogged,setuserdata,userdata,router,seterrmsg,setbackenderror,setactive})=>{\r\n\r\n    try{\r\n\r\n      const{data}=await axios.post(\"/login\",{userdata:userdata})\r\n      console.log(data);\r\n      if(data.wrong=\"WP\"){\r\n\r\n        setbackenderror(\"WP\")\r\n        setactive(true);\r\n\r\n      }\r\n      else if(data.wrong=\"WE\"){\r\n\r\n        setbackenderror(\"WE\")\r\n        setactive(true);\r\n\r\n      }\r\n      else{\r\n        setlogged(true);\r\n        setuserdata(data.Userdata)\r\n        localStorage.setItem(\"_TOKEN\",data.token);//http cookie only ile store edicez\r\n        router.push(\"/\");\r\n      }\r\n\r\n    }catch(err){\r\n        seterrmsg(true)\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport const resigterreq=async({setbackenderror,userdata,setactive,seterrmsg})=>{\r\n    \r\n  try{\r\n    const{data}=await axios.post(\"/register\",{userdata:userdata})\r\n    \r\n    if(data.exist){\r\n        setbackenderror(\"EXİST\")\r\n        setactive(true)\r\n    }\r\n    else{\r\n        //kayıt olmanız başarılı\r\n    }\r\n  }catch(err){\r\n      seterrmsg(true)\r\n  }\r\n}\r\n\r\nexport const producereq=async({contentdata,seterrmsg,setwindow})=>{\r\n\r\n  try{\r\n    const{data}=await axios.post(\"/post/produce\",{contentdata:contentdata})\r\n    \r\n    if(data.state == \"success\"){\r\n        setwindow(true);\r\n        //we route işlemi\r\n    }\r\n    else{ \r\n      seterrmsg(true);\r\n    }\r\n  }catch(err){\r\n      seterrmsg(true)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}