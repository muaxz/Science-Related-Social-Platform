{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\bexsd\\\\Desktop\\\\nextproject\\\\client\\\\components\\\\pages\\\\Profile\\\\Editwindow.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { CameraAlt } from '@material-ui/icons';\nimport React, { useState, useEffect } from 'react';\nimport styled from \"styled-components\";\nimport Iconextra from \"../../UI/Icon\";\nimport { ArrowDropUp } from \"@material-ui/icons\";\nimport { Black, Porfileimage } from \"../../styledcomponents/button\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport Cropper from \"react-image-crop\";\nimport axios from 'axios';\nimport \"react-image-crop/dist/ReactCrop.css\";\nvar Exterior = styled.div.withConfig({\n  displayName: \"Editwindow__Exterior\",\n  componentId: \"sc-9h7al1-0\"\n})([\"display:\", \";position:absolute;transform:translateX(-50%);left:50%;top:\", \";;max-width:600px;width:90%;height:\", \";background-color:white;border-radius:10px;z-index:1000;overflow:\", \";;\"], function (_ref) {\n  var active = _ref.active;\n  return active ? \"block\" : \"none\";\n}, function (_ref2) {\n  var getcropper = _ref2.getcropper;\n  return getcropper ? \"150px\" : \"70px\";\n}, function (_ref3) {\n  var getcropper = _ref3.getcropper;\n  return getcropper ? \"350px\" : \"580px\";\n}, function (_ref4) {\n  var getcropper = _ref4.getcropper;\n  return getcropper ? \"visible\" : \"auto\";\n});\n_c = Exterior;\nvar Inner = styled.div.withConfig({\n  displayName: \"Editwindow__Inner\",\n  componentId: \"sc-9h7al1-1\"\n})([\"position:relative;padding:10px;\"]);\n_c2 = Inner;\nvar Holderforupicon = styled.div.withConfig({\n  displayName: \"Editwindow__Holderforupicon\",\n  componentId: \"sc-9h7al1-2\"\n})([\"position:absolute;top:-45px;left:35px;\"]);\n_c3 = Holderforupicon;\nvar Background = styled.div.withConfig({\n  displayName: \"Editwindow__Background\",\n  componentId: \"sc-9h7al1-3\"\n})([\"display:flex;cursor:pointer;justify-content:center;align-items:center;width:100%;border-top-left-radius:10px;border-top-right-radius:10px;height:200px;opacity:0.8;background-image:url(\", \");background-size:cover;background-repeat:no-repeat;background-position:center;transition:0.4s;&:hover{opacity:1;}\"], function (_ref5) {\n  var ImageforBack = _ref5.ImageforBack;\n  return ImageforBack;\n});\n_c4 = Background;\nvar ProfileImageholder = styled.div.withConfig({\n  displayName: \"Editwindow__ProfileImageholder\",\n  componentId: \"sc-9h7al1-4\"\n})([\"position:absolute;top:160px;opacity:0.8;left:30px;transition:0.4s;&:hover{opacity:1;}\"]);\n_c5 = ProfileImageholder;\nvar Inputholder = styled.div.withConfig({\n  displayName: \"Editwindow__Inputholder\",\n  componentId: \"sc-9h7al1-5\"\n})([\"display:\", \";margin-top:20px;\"], function (_ref6) {\n  var displayed = _ref6.displayed;\n  return displayed ? \"block\" : \"none\";\n});\n_c6 = Inputholder;\nvar Information = styled.div.withConfig({\n  displayName: \"Editwindow__Information\",\n  componentId: \"sc-9h7al1-6\"\n})([\"position:relative;padding-top:\", \";background-color:#e9ecef;padding-left:20px;padding-right:20px;padding-bottom:20px;border-radius:20px;\"], function (_ref7) {\n  var isforedit = _ref7.isforedit;\n  return isforedit ? \"10px\" : \"80px\";\n});\n_c7 = Information;\nvar Labelimage = styled.label.withConfig({\n  displayName: \"Editwindow__Labelimage\",\n  componentId: \"sc-9h7al1-7\"\n})([\"position:absolute;width:100%;height:200px;display:block;padding:6px;padding-left:45px;background-color:white;cursor:pointer;color:black;opacity:0;\"]); //selection bar for editing\n\n_c8 = Labelimage;\nvar Selectionbar = styled.div.withConfig({\n  displayName: \"Editwindow__Selectionbar\",\n  componentId: \"sc-9h7al1-8\"\n})([\"display:flex;justify-content:space-around;background-color:red;height:30px;margin-bottom:30px;\"]);\n_c9 = Selectionbar;\nvar Childsofselection = styled.div.withConfig({\n  displayName: \"Editwindow__Childsofselection\",\n  componentId: \"sc-9h7al1-9\"\n})([\"\"]); //email,password,notification\n\n_c10 = Childsofselection;\nexport default function Editwindow(_ref8) {\n  _s();\n\n  var _this = this;\n\n  var isWindowforedit = _ref8.isWindowforedit,\n      updatefunc = _ref8.updatefunc,\n      active = _ref8.active,\n      editdata = _ref8.editdata,\n      closefunc = _ref8.closefunc;\n  console.log(editdata);\n\n  var _useState = useState({\n    Backimage: \"\",\n    Profileimage: \"\"\n  }),\n      file = _useState[0],\n      setfile = _useState[1];\n\n  var _useState2 = useState({\n    aspect: 16 / 16,\n    height: 200,\n    width: 100,\n    x: 50,\n    y: 50\n  }),\n      crop = _useState2[0],\n      setcrop = _useState2[1];\n\n  var _useState3 = useState({\n    Backimage: \"\",\n    Profileimage: \"\"\n  }),\n      src = _useState3[0],\n      setsrc = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      imagetype = _useState4[0],\n      setimagetype = _useState4[1];\n\n  var _useState5 = useState(null),\n      image = _useState5[0],\n      setimage = _useState5[1];\n\n  var _useState6 = useState({\n    Backimage: {\n      src: \"\",\n      cropvalues: {\n        width: \"\",\n        height: \"\",\n        x: \"\",\n        y: \"\"\n      }\n    },\n    Profileimage: {\n      src: \"\",\n      cropvalues: {\n        width: \"\",\n        height: \"\",\n        x: \"\",\n        y: \"\"\n      }\n    }\n  }),\n      result = _useState6[0],\n      setresult = _useState6[1];\n\n  var _useState7 = useState(false),\n      iscropperactive = _useState7[0],\n      setcropperactive = _useState7[1];\n\n  var _useState8 = useState({\n    musername: {\n      activate: isWindowforedit ? false : true,\n      value: editdata.username,\n      label: \"Kullanici Adi\",\n      warning: false,\n      multiline: false,\n      msg: \"\"\n    },\n    firstname: {\n      activate: isWindowforedit ? false : true,\n      value: editdata.firstname,\n      label: \"Ad\",\n      warning: false,\n      multiline: false,\n      msg: \"\"\n    },\n    surname: {\n      activate: isWindowforedit ? false : true,\n      value: editdata.lastname,\n      label: \"Soyad\",\n      warning: false,\n      multiline: false,\n      msg: \"\"\n    },\n    personaltext: {\n      activate: isWindowforedit ? false : true,\n      value: editdata.Personaltext,\n      label: \"Kisisel Bilgiler\",\n      warning: false,\n      multiline: true,\n      msg: \"\"\n    },\n    email: {\n      activate: isWindowforedit ? true : false,\n      value: editdata.email,\n      label: \"E-Posta\",\n      warning: false,\n      multiline: false,\n      msg: \"E-postani degistirmek istersen, yeni girdigin adrese bir kod gonderilicek lutfen onu gir.\"\n    }\n  }),\n      userinfo = _useState8[0],\n      setuserinfo = _useState8[1];\n\n  var _useState9 = useState({\n    Email: true,\n    Password: false,\n    Notification: false\n  }),\n      selectionchilds = _useState9[0],\n      setselectionchilds = _useState9[1];\n\n  useEffect(function () {\n    var copy = _objectSpread({}, userinfo);\n\n    for (var key in copy) {\n      copy[key].activate = isWindowforedit ? false : true;\n\n      if (copy[key].label == \"E-Posta\") {\n        copy[key].activate = isWindowforedit ? true : false;\n      }\n    }\n\n    setuserinfo(copy);\n  }, [isWindowforedit]);\n  useEffect(function () {\n    setcropperactive(false);\n  }, [active]);\n  /*\r\n  useEffect(()=>{\r\n       if(src.Backimage !== \"\"){\r\n         console.log(\"heyyo\")\r\n          const backimg = document.querySelector(\"#Backimg\")\r\n          backimg.addEventListener(\"load\",()=>{\r\n              setimage(backimg)\r\n              console.log(backimg)\r\n          })\r\n     }    \r\n    },[src])\r\n  */\n\n  var ToCanvas = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var canvas, scaleX, scaleY, ctx, base64Image;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              canvas = document.createElement(\"canvas\");\n              scaleX = image.naturalWidth / image.width;\n              scaleY = image.naturalHeight / image.height;\n              canvas.width = crop.width;\n              canvas.height = crop.height;\n              ctx = canvas.getContext(\"2d\");\n              ctx.drawImage(image, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n              base64Image = canvas.toDataURL(\"imge/png\");\n              setresult(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, imagetype, {\n                  src: base64Image,\n                  cropvalues: {\n                    x: crop.x,\n                    y: crop.y,\n                    width: crop.width,\n                    height: crop.height\n                  }\n                }));\n              });\n              setcropperactive(false);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function ToCanvas() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var Inputhandler = function Inputhandler(key, event) {\n    var mutated = _objectSpread({}, userinfo);\n\n    mutated[key].value = event.target.value;\n    setuserinfo(mutated);\n  };\n\n  var Updatefile = function Updatefile(event, type) {\n    if (type == \"Backimage\") {\n      setcrop({\n        aspect: 16 / 9,\n        height: 200,\n        width: 300,\n        unit: \"px\",\n        x: 0,\n        y: 50\n      });\n    } else {\n      setcrop({\n        aspect: 16 / 16,\n        height: 200,\n        width: 200,\n        unit: \"px\",\n        x: 50,\n        y: 50\n      });\n    }\n\n    setimagetype(type);\n    setcropperactive(true);\n    setsrc(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, type, URL.createObjectURL(event.target.files[0])));\n    });\n    setfile(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, type, event.target.files[0]));\n    });\n  };\n\n  var updatecrop = function updatecrop(newcrop) {\n    //buraya bak\n    if (crop.aspect > 1) {\n      setcrop(function (res) {\n        return _objectSpread(_objectSpread({}, res), {}, {\n          y: newcrop.y\n        });\n      });\n    } else {\n      setcrop(function (res) {\n        return _objectSpread(_objectSpread({}, res), {}, {\n          y: newcrop.y,\n          x: newcrop.x\n        });\n      });\n    }\n\n    console.log(crop); //value of cropper width height x and y\n  };\n\n  var Sendupdates = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var values, key, formData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              values = {};\n\n              for (key in userinfo) {\n                values[key] = userinfo[key].value;\n              }\n\n              values.backcrop = result.Backimage.cropvalues;\n              values.profile = result.Profileimage.cropvalues;\n              formData = new FormData();\n\n              if (file.Backimage !== \"\" && file.Profileimage !== \"\") {\n                formData.append(\"upload\", file.Backimage);\n                formData.append(\"upload2\", file.Profileimage);\n              } else {\n                formData.append(\"upload\", file[imagetype]);\n              }\n\n              formData.append(\"Profilevalues\", JSON.stringify(values));\n              _context2.prev = 7;\n              _context2.next = 10;\n              return axios.post(\"user/updateprofile\", formData, {\n                withCredentials: true\n              });\n\n            case 10:\n              _context2.next = 15;\n              break;\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](7);\n              return _context2.abrupt(\"return\", console.log(\"UPLOAD ERRORRRRRRR\"));\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[7, 12]]);\n    }));\n\n    return function Sendupdates() {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Black, {\n      onClick: closefunc,\n      aktif: active\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        visibility: \"hidden\",\n        position: \"absolute\"\n      },\n      id: \"Backimg\",\n      src: src[\"Backimage\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        visibility: \"hidden\",\n        position: \"absolute\"\n      },\n      id: \"Profileimg\",\n      src: src[\"Profileimage\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Exterior, {\n      getcropper: iscropperactive,\n      active: active,\n      children: /*#__PURE__*/_jsxDEV(Inner, {\n        children: [/*#__PURE__*/_jsxDEV(Selectionbar, {\n          children: Object.keys(selectionchilds).map(function (item, index) {\n            return /*#__PURE__*/_jsxDEV(Childsofselection, {\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 40\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this), iscropperactive ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Cropper, {\n            onImageLoaded: function onImageLoaded(img) {\n              return setimage(img);\n            },\n            style: {\n              backgroundColor: \"red\",\n              height: \"350px\",\n              width: \"300px\"\n            },\n            imageStyle: {\n              height: \"350px\",\n              width: \"300px\",\n              objectFit: \"cover\"\n            },\n            src: src[imagetype],\n            crop: crop,\n            onChange: function onChange(newcrop) {\n              return updatecrop(newcrop);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: function onClick() {\n                return ToCanvas();\n              },\n              color: \"secondary\",\n              variant: \"contained\",\n              children: \"Upload the file to server\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [!isWindowforedit && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Background, {\n              ImageforBack: src.Backimage,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: \"absolute\",\n                  top: \"225px\",\n                  right: \"10px\",\n                  zIndex: \"1000\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: function onClick() {\n                    return Sendupdates();\n                  },\n                  style: {\n                    textTransform: \"capitalize\",\n                    borderRadius: \"25px\"\n                  },\n                  color: \"secondary\",\n                  variant: \"contained\",\n                  children: \"Kaydet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(Labelimage, {\n                htmlFor: \"file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(CameraAlt, {\n                style: {\n                  color: \"white\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: function onChange(e) {\n                  return Updatefile(e, \"Backimage\");\n                },\n                name: \"upload\",\n                accept: \"image/png, image/gif, image/jpeg\",\n                id: \"file\",\n                type: \"file\",\n                style: {\n                  display: \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(ProfileImageholder, {\n              children: /*#__PURE__*/_jsxDEV(Porfileimage, {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\"\n                },\n                width: \"80px\",\n                height: \"80px\",\n                profile: src.Profileimage,\n                children: [/*#__PURE__*/_jsxDEV(Labelimage, {\n                  htmlFor: \"file2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(CameraAlt, {\n                  style: {\n                    color: \"white\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: function onChange(e) {\n                    return Updatefile(e, \"Profileimage\");\n                  },\n                  accept: \"image/png, image/gif, image/jpeg\",\n                  id: \"file2\",\n                  type: \"file\",\n                  style: {\n                    display: \"none\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Information, {\n            isforedit: isWindowforedit,\n            children: [/*#__PURE__*/_jsxDEV(Holderforupicon, {\n              children: /*#__PURE__*/_jsxDEV(ArrowDropUp, {\n                style: {\n                  fontSize: \"80px\",\n                  color: \"#e9ecef\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 37\n            }, this), Object.keys(userinfo).map(function (item, index) {\n              return /*#__PURE__*/_jsxDEV(Inputholder, {\n                displayed: userinfo[item].activate,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  multiline: userinfo[item].multiline,\n                  rows: 4,\n                  onChange: function onChange(e) {\n                    return Inputhandler(item, e);\n                  },\n                  style: {\n                    width: \"100%\"\n                  },\n                  label: userinfo[item].label,\n                  variant: \"outlined\",\n                  value: userinfo[item].value,\n                  helperText: userinfo[item].msg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 57\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 53\n              }, _this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 356,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Editwindow, \"4W/jy2wOiwqsBEKdk4JS58nTr7s=\");\n\n_c11 = Editwindow;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"Exterior\");\n$RefreshReg$(_c2, \"Inner\");\n$RefreshReg$(_c3, \"Holderforupicon\");\n$RefreshReg$(_c4, \"Background\");\n$RefreshReg$(_c5, \"ProfileImageholder\");\n$RefreshReg$(_c6, \"Inputholder\");\n$RefreshReg$(_c7, \"Information\");\n$RefreshReg$(_c8, \"Labelimage\");\n$RefreshReg$(_c9, \"Selectionbar\");\n$RefreshReg$(_c10, \"Childsofselection\");\n$RefreshReg$(_c11, \"Editwindow\");","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/components/pages/Profile/Editwindow.js"],"names":["CameraAlt","React","useState","useEffect","styled","Iconextra","ArrowDropUp","Black","Porfileimage","TextField","Button","Cropper","axios","Exterior","div","active","getcropper","Inner","Holderforupicon","Background","ImageforBack","ProfileImageholder","Inputholder","displayed","Information","isforedit","Labelimage","label","Selectionbar","Childsofselection","Editwindow","isWindowforedit","updatefunc","editdata","closefunc","console","log","Backimage","Profileimage","file","setfile","aspect","height","width","x","y","crop","setcrop","src","setsrc","imagetype","setimagetype","image","setimage","cropvalues","result","setresult","iscropperactive","setcropperactive","musername","activate","value","username","warning","multiline","msg","firstname","surname","lastname","personaltext","Personaltext","email","userinfo","setuserinfo","Email","Password","Notification","selectionchilds","setselectionchilds","copy","key","ToCanvas","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","drawImage","base64Image","toDataURL","prev","Inputhandler","event","mutated","target","Updatefile","type","unit","URL","createObjectURL","files","updatecrop","newcrop","res","Sendupdates","values","backcrop","profile","formData","FormData","append","JSON","stringify","post","withCredentials","visibility","position","Object","keys","map","item","index","textAlign","img","backgroundColor","objectFit","top","right","zIndex","textTransform","borderRadius","color","e","display","justifyContent","alignItems","fontSize"],"mappings":"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","sourcesContent":["import { CameraAlt } from '@material-ui/icons'\r\nimport React, { useState,useEffect} from 'react'\r\nimport styled from \"styled-components\"\r\nimport Iconextra from \"../../UI/Icon\"\r\nimport {ArrowDropUp} from \"@material-ui/icons\"\r\nimport {Black,Porfileimage} from \"../../styledcomponents/button\"\r\nimport {TextField,Button} from \"@material-ui/core\"\r\nimport Cropper from  \"react-image-crop\"\r\nimport axios from 'axios'\r\nimport \"react-image-crop/dist/ReactCrop.css\"\r\n\r\nconst Exterior = styled.div`\r\ndisplay:${({active})=>active ? \"block\" : \"none\"};\r\nposition:absolute;\r\ntransform:translateX(-50%);\r\nleft:50%;\r\ntop:${({getcropper})=>getcropper ? \"150px\" : \"70px\"};;\r\nmax-width:600px;\r\nwidth:90%;\r\nheight:${({getcropper})=>getcropper ? \"350px\" : \"580px\"};\r\nbackground-color:white;\r\nborder-radius:10px;\r\nz-index:1000;\r\noverflow:${({getcropper})=>getcropper ? \"visible\" : \"auto\"};;\r\n`\r\nconst Inner = styled.div`\r\nposition:relative;\r\npadding:10px;\r\n`\r\n\r\nconst Holderforupicon = styled.div`\r\nposition:absolute;\r\ntop:-45px;\r\nleft:35px;\r\n`\r\n\r\nconst Background = styled.div`\r\ndisplay:flex;\r\ncursor:pointer;\r\njustify-content:center;\r\nalign-items:center;\r\nwidth:100%;\r\nborder-top-left-radius:10px;\r\nborder-top-right-radius:10px;\r\nheight:200px;\r\nopacity:0.8;\r\nbackground-image:url(${({ImageforBack})=>ImageforBack});\r\nbackground-size:cover;\r\nbackground-repeat: no-repeat;\r\nbackground-position:center; \r\ntransition:0.4s;\r\n&:hover{\r\n    opacity:1;\r\n}\r\n`\r\n\r\nconst ProfileImageholder=styled.div`\r\nposition:absolute;\r\ntop:160px;\r\nopacity:0.8;\r\nleft:30px;\r\ntransition:0.4s;\r\n&:hover{\r\n    opacity:1;\r\n}\r\n`\r\nconst Inputholder = styled.div`\r\ndisplay:${({displayed})=> displayed ? \"block\" : \"none\"};\r\nmargin-top:20px;\r\n`\r\nconst Information = styled.div`\r\nposition:relative;\r\npadding-top:${({isforedit})=>isforedit ? \"10px\" : \"80px\"};\r\nbackground-color:#e9ecef;\r\npadding-left:20px;\r\npadding-right:20px; \r\npadding-bottom:20px;\r\nborder-radius:20px;\r\n`\r\n\r\nconst Labelimage=styled.label`\r\nposition:absolute;\r\nwidth:100%;\r\nheight:200px;\r\ndisplay:block;\r\npadding:6px;\r\npadding-left:45px;\r\nbackground-color:white;\r\ncursor:pointer;\r\ncolor:black;\r\nopacity:0;\r\n`\r\n//selection bar for editing\r\nconst Selectionbar = styled.div`\r\ndisplay:flex;\r\njustify-content:space-around;\r\nbackground-color:red;\r\nheight:30px;\r\nmargin-bottom:30px;\r\n`\r\n\r\nconst Childsofselection = styled.div`\r\n\r\n`\r\n\r\n//email,password,notification\r\nexport default function Editwindow({isWindowforedit,updatefunc,active,editdata,closefunc}){\r\n\r\n    console.log(editdata)\r\n    const [file,setfile] = useState({\r\n        Backimage:\"\",\r\n        Profileimage:\"\"\r\n    })\r\n    const [crop,setcrop] = useState({aspect:16/16,height:200,width:100,x:50,y:50})\r\n    const [src,setsrc] = useState({\r\n        Backimage:\"\",\r\n        Profileimage:\"\"\r\n    })\r\n    const [imagetype,setimagetype] = useState(\"\")\r\n    const [image,setimage] = useState(null)\r\n    const [result,setresult] = useState({\r\n        Backimage:{\r\n            src:\"\",\r\n            cropvalues:{\r\n                width:\"\",\r\n                height:\"\",\r\n                x:\"\",\r\n                y:\"\"\r\n            }\r\n        },\r\n        Profileimage:{\r\n            src:\"\",\r\n            cropvalues:{\r\n                width:\"\",\r\n                height:\"\",\r\n                x:\"\",\r\n                y:\"\"\r\n            }\r\n        }\r\n    })\r\n    const [iscropperactive,setcropperactive] = useState(false)\r\n    const [userinfo,setuserinfo] = useState({\r\n        musername:{\r\n            activate:isWindowforedit ? false : true,\r\n            value:editdata.username,\r\n            label:\"Kullanici Adi\",\r\n            warning:false,\r\n            multiline:false,\r\n            msg:\"\"\r\n        },\r\n        firstname:{\r\n            activate:isWindowforedit ? false : true,\r\n            value:editdata.firstname,\r\n            label:\"Ad\",\r\n            warning:false,\r\n            multiline:false,\r\n            msg:\"\"\r\n        },\r\n        surname:{\r\n            activate:isWindowforedit ? false : true,\r\n            value:editdata.lastname,\r\n            label:\"Soyad\",\r\n            warning:false,\r\n            multiline:false,\r\n            msg:\"\"\r\n        },\r\n        personaltext:{\r\n            activate:isWindowforedit ? false : true,\r\n            value:editdata.Personaltext,\r\n            label:\"Kisisel Bilgiler\",\r\n            warning:false,\r\n            multiline:true,\r\n            msg:\"\"\r\n        },\r\n        email:{\r\n            activate:isWindowforedit ? true : false,\r\n            value:editdata.email,\r\n            label:\"E-Posta\",\r\n            warning:false,\r\n            multiline:false,\r\n            msg:\"E-postani degistirmek istersen, yeni girdigin adrese bir kod gonderilicek lutfen onu gir.\"\r\n        },\r\n      \r\n    })\r\n    const [selectionchilds,setselectionchilds] = useState({\r\n        Email:true,\r\n        Password:false,\r\n        Notification:false\r\n    })\r\n\r\n    useEffect(()=>{\r\n\r\n        const copy = {...userinfo}\r\n      \r\n        for (const key in copy){\r\n            copy[key].activate = isWindowforedit ? false : true\r\n            if(copy[key].label == \"E-Posta\"){\r\n                    copy[key].activate = isWindowforedit ? true : false\r\n            }\r\n        }\r\n\r\n        setuserinfo(copy)\r\n      \r\n    },[isWindowforedit])\r\n\r\n    useEffect(()=>{\r\n        setcropperactive(false)\r\n    },[active])\r\n    /*\r\n    useEffect(()=>{\r\n\r\n       if(src.Backimage !== \"\"){\r\n           console.log(\"heyyo\")\r\n            const backimg = document.querySelector(\"#Backimg\")\r\n            backimg.addEventListener(\"load\",()=>{\r\n                setimage(backimg)\r\n                console.log(backimg)\r\n            })\r\n       }    \r\n\r\n    },[src])\r\n    */\r\n\r\n    const ToCanvas = async ()=>{\r\n       \r\n        const canvas = document.createElement(\"canvas\");\r\n        const scaleX = image.naturalWidth / image.width;\r\n        const scaleY = image.naturalHeight / image.height;\r\n        canvas.width = crop.width\r\n        canvas.height = crop.height\r\n        const ctx = canvas.getContext(\"2d\");\r\n\r\n        \r\n    \r\n        ctx.drawImage(\r\n        image,\r\n        crop.x * scaleX,\r\n        crop.y * scaleY,\r\n        crop.width * scaleX,\r\n        crop.height * scaleY,\r\n        0,\r\n        0,\r\n        crop.width,\r\n        crop.height\r\n        );\r\n        \r\n        const base64Image = canvas.toDataURL(\"imge/png\")\r\n\r\n        setresult((prev)=>{\r\n            return {...prev,[imagetype]:{src:base64Image,cropvalues:{x:crop.x,y:crop.y,width:crop.width,height:crop.height}}}\r\n        })\r\n\r\n        setcropperactive(false)\r\n        \r\n    }\r\n\r\n    const Inputhandler = (key,event)=>{\r\n\r\n        const mutated = {...userinfo}\r\n        mutated[key].value=event.target.value\r\n        setuserinfo(mutated)\r\n    }\r\n\r\n    const Updatefile = (event,type)=>{\r\n\r\n        if(type == \"Backimage\"){\r\n            setcrop({\r\n                aspect:16/9,\r\n                height:200,\r\n                width:300,\r\n                unit:\"px\",\r\n                x:0,\r\n                y:50\r\n            })\r\n        }\r\n        else{\r\n            setcrop({\r\n                aspect:16/16,\r\n                height:200,\r\n                width:200,\r\n                unit:\"px\",\r\n                x:50,\r\n                y:50\r\n            })\r\n        }\r\n        \r\n        setimagetype(type)\r\n        setcropperactive(true)\r\n        setsrc((prev)=>{\r\n            return {...prev,[type]:URL.createObjectURL(event.target.files[0])}\r\n        })\r\n        setfile((prev)=>{\r\n            return {...prev,[type]:event.target.files[0]}\r\n        })\r\n\r\n      \r\n    }\r\n\r\n    const updatecrop = (newcrop)=>{\r\n        //buraya bak\r\n        if(crop.aspect > 1){\r\n            setcrop((res)=>{\r\n                return {...res,y:newcrop.y}\r\n            })\r\n        }\r\n        else{\r\n            setcrop((res)=>{\r\n                return {...res,y:newcrop.y,x:newcrop.x}\r\n            })\r\n        }\r\n        console.log(crop)\r\n\r\n        //value of cropper width height x and y\r\n    }\r\n\r\n    const Sendupdates = async ()=>{\r\n\r\n        const values = {}\r\n        for (const key in userinfo){\r\n            values[key] = userinfo[key].value\r\n        }\r\n\r\n        values.backcrop = result.Backimage.cropvalues\r\n        values.profile  = result.Profileimage.cropvalues\r\n\r\n        const formData=new FormData();\r\n\r\n        if(file.Backimage !== \"\" && file.Profileimage !== \"\"){\r\n\r\n            formData.append(\"upload\",file.Backimage);\r\n            formData.append(\"upload2\",file.Profileimage)\r\n            \r\n        }\r\n        else{\r\n            \r\n            formData.append(\"upload\",file[imagetype])\r\n        }\r\n\r\n        formData.append(\"Profilevalues\",JSON.stringify(values))\r\n        \r\n     \r\n\r\n        try{\r\n\r\n            await axios.post(`user/updateprofile`,formData,{withCredentials:true});\r\n   \r\n         }catch(err){\r\n   \r\n            return console.log(\"UPLOAD ERRORRRRRRR\");\r\n            \r\n         }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Black onClick={closefunc} aktif={active}/>\r\n            <img style={{visibility:\"hidden\",position:\"absolute\"}} id=\"Backimg\" src={src[\"Backimage\"]}></img>\r\n            <img style={{visibility:\"hidden\",position:\"absolute\"}} id=\"Profileimg\" src={src[\"Profileimage\"]}></img>\r\n            <Exterior getcropper={iscropperactive} active={active}>\r\n                <Inner>\r\n                    <Selectionbar>\r\n                        {\r\n                            Object.keys(selectionchilds).map((item,index)=>{\r\n                               return (<Childsofselection>{item}</Childsofselection>)\r\n                            })\r\n                        }\r\n                       \r\n                    </Selectionbar>\r\n                    {\r\n                        iscropperactive \r\n                        \r\n                        ? \r\n                            <div style={{textAlign:\"center\"}}>\r\n                                <Cropper  onImageLoaded={(img)=>setimage(img)} style={{backgroundColor:\"red\",height:\"350px\",width:\"300px\"}}  imageStyle={{height:\"350px\",width:\"300px\",objectFit:\"cover\"}}  src={src[imagetype]} crop={crop} onChange={(newcrop)=>updatecrop(newcrop)}/> \r\n                                <div style={{textAlign:\"center\"}}>\r\n                                 <Button onClick={()=>ToCanvas()} color=\"secondary\" variant=\"contained\" >Upload the file to server</Button>\r\n                                </div>\r\n                            </div>\r\n                        \r\n                        :\r\n\r\n                             (<> \r\n                                    { !isWindowforedit &&  \r\n\r\n                                        (<>\r\n                                            <Background ImageforBack={src.Backimage}>\r\n                                                <div style={{position:\"absolute\",top:\"225px\",right:\"10px\",zIndex:\"1000\"}}>\r\n                                                    <Button onClick={()=>Sendupdates()} style={{textTransform:\"capitalize\",borderRadius:\"25px\"}} color=\"secondary\" variant=\"contained\">Kaydet</Button>\r\n                                                </div>\r\n                                                <Labelimage  htmlFor=\"file\"></Labelimage>\r\n                                                <CameraAlt style={{color:\"white\"}}></CameraAlt>\r\n                                                <input onChange={(e)=>Updatefile(e,\"Backimage\")} name=\"upload\" accept=\"image/png, image/gif, image/jpeg\" id=\"file\" type=\"file\" style={{display:\"none\"}}></input>\r\n                                            </Background>\r\n                                            <ProfileImageholder>\r\n                                                <Porfileimage style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}} width=\"80px\" height=\"80px\" profile={src.Profileimage}>\r\n                                                    <Labelimage htmlFor=\"file2\"></Labelimage>\r\n                                                    <CameraAlt style={{color:\"white\"}}></CameraAlt>\r\n                                                    <input onChange={(e)=>Updatefile(e,\"Profileimage\")} accept=\"image/png, image/gif, image/jpeg\" id=\"file2\" type=\"file\" style={{display:\"none\"}}></input>\r\n                                                </Porfileimage>\r\n                                            </ProfileImageholder>\r\n                                        </>)\r\n\r\n                                    }\r\n                                  \r\n                                <Information isforedit={isWindowforedit}>\r\n                                    <Holderforupicon>\r\n                                        <ArrowDropUp style={{fontSize:\"80px\",color:\"#e9ecef\"}}></ArrowDropUp>\r\n                                    </Holderforupicon>\r\n                                    {\r\n                                        Object.keys(userinfo).map((item,index)=>{\r\n\r\n                                            return (<Inputholder displayed={userinfo[item].activate}>\r\n                                                        <TextField   \r\n                                                            multiline={userinfo[item].multiline}\r\n                                                            rows={4}\r\n                                                            onChange={(e)=>Inputhandler(item,e)}\r\n                                                            style={{width:\"100%\"}}\r\n                                                            label={userinfo[item].label}\r\n                                                            variant=\"outlined\"\r\n                                                            value={userinfo[item].value}\r\n                                                            helperText={userinfo[item].msg}\r\n                                                        ></TextField>\r\n                                                </Inputholder>)\r\n                                        })\r\n                                    }\r\n                                </Information>\r\n                        </>)\r\n                    }\r\n                </Inner>\r\n            </Exterior>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}