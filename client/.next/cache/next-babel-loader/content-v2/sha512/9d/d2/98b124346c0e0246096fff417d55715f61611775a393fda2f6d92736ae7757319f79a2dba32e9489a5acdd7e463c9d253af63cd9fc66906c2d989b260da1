{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/bexsd/Desktop/nextproject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3001\";\nexport var loginreq = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var setlogged, setuserdata, userdata, router, seterrmsg, setbackenderror, _yield$axios$post, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setlogged = _ref.setlogged, setuserdata = _ref.setuserdata, userdata = _ref.userdata, router = _ref.router, seterrmsg = _ref.seterrmsg, setbackenderror = _ref.setbackenderror;\n            _context.prev = 1;\n            _context.next = 4;\n            return axios.post(\"/login\", {\n              userdata: userdata\n            });\n\n          case 4:\n            _yield$axios$post = _context.sent;\n            data = _yield$axios$post.data;\n\n            if (data.wrong = \"WP\") {\n              setbackenderror(\"WP\");\n            } else if (data.wrong = \"WE\") {\n              setbackenderror(\"WE\");\n            } else {\n              setlogged(true);\n              setuserdata(data.Userdata);\n              localStorage.setItem(\"_TOKEN\", data.token);\n              router.push(\"/\");\n            }\n\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            seterrmsg(true);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 9]]);\n  }));\n\n  return function loginreq(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var resigterreq = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3) {\n    var setbackenderror, userdata, _yield$axios$post2, data;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setbackenderror = _ref3.setbackenderror, userdata = _ref3.userdata;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return axios.post(\"/register\", {\n              userdata: userdata\n            });\n\n          case 4:\n            _yield$axios$post2 = _context2.sent;\n            data = _yield$axios$post2.data;\n\n            if (data.exist) {\n              setbackenderror(\"EXİST\");\n            } else {//kayıt olmanız başarılı\n            }\n\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](1);\n            seterrmsg(true);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n\n  return function resigterreq(_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/Api/Api.js"],"names":["axios","defaults","baseURL","loginreq","setlogged","setuserdata","userdata","router","seterrmsg","setbackenderror","post","data","wrong","Userdata","localStorage","setItem","token","push","resigterreq","exist"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAuB,uBAAvB;AAEA,OAAO,IAAMC,QAAQ;AAAA,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAOC,YAAAA,SAAP,QAAOA,SAAP,EAAiBC,WAAjB,QAAiBA,WAAjB,EAA6BC,QAA7B,QAA6BA,QAA7B,EAAsCC,MAAtC,QAAsCA,MAAtC,EAA6CC,SAA7C,QAA6CA,SAA7C,EAAuDC,eAAvD,QAAuDA,eAAvD;AAAA;AAAA;AAAA,mBAIET,KAAK,CAACU,IAAN,CAAW,QAAX,EAAoB;AAACJ,cAAAA,QAAQ,EAACA;AAAV,aAApB,CAJF;;AAAA;AAAA;AAIVK,YAAAA,IAJU,qBAIVA,IAJU;;AAMhB,gBAAGA,IAAI,CAACC,KAAL,GAAW,IAAd,EAAmB;AAEjBH,cAAAA,eAAe,CAAC,IAAD,CAAf;AAED,aAJD,MAKK,IAAGE,IAAI,CAACC,KAAL,GAAW,IAAd,EAAmB;AAEtBH,cAAAA,eAAe,CAAC,IAAD,CAAf;AAED,aAJI,MAKD;AACFL,cAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,cAAAA,WAAW,CAACM,IAAI,CAACE,QAAN,CAAX;AACAC,cAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BJ,IAAI,CAACK,KAAnC;AACAT,cAAAA,MAAM,CAACU,IAAP,CAAY,GAAZ;AACD;;AArBe;AAAA;;AAAA;AAAA;AAAA;AAwBdT,YAAAA,SAAS,CAAC,IAAD,CAAT;;AAxBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;;AAAA,kBAARL,QAAQ;AAAA;AAAA;AAAA,GAAd;AA8BP,OAAO,IAAMe,WAAW;AAAA,uEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAOT,YAAAA,eAAP,SAAOA,eAAP,EAAuBH,QAAvB,SAAuBA,QAAvB;AAAA;AAAA;AAAA,mBAGHN,KAAK,CAACU,IAAN,CAAW,WAAX,EAAuB;AAACJ,cAAAA,QAAQ,EAACA;AAAV,aAAvB,CAHG;;AAAA;AAAA;AAGfK,YAAAA,IAHe,sBAGfA,IAHe;;AAKrB,gBAAGA,IAAI,CAACQ,KAAR,EAAc;AACVV,cAAAA,eAAe,CAAC,OAAD,CAAf;AACH,aAFD,MAGI,CACA;AACH;;AAVoB;AAAA;;AAAA;AAAA;AAAA;AAYnBD,YAAAA,SAAS,CAAC,IAAD,CAAT;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;;AAAA,kBAAXU,WAAW;AAAA;AAAA;AAAA,GAAjB","sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL=\"http://localhost:3001\";\r\n\r\nexport const loginreq=async({setlogged,setuserdata,userdata,router,seterrmsg,setbackenderror})=>{\r\n\r\n    try{\r\n\r\n      const{data}=await axios.post(\"/login\",{userdata:userdata})\r\n\r\n      if(data.wrong=\"WP\"){\r\n\r\n        setbackenderror(\"WP\")\r\n\r\n      }\r\n      else if(data.wrong=\"WE\"){\r\n\r\n        setbackenderror(\"WE\")\r\n\r\n      }\r\n      else{\r\n        setlogged(true);\r\n        setuserdata(data.Userdata)\r\n        localStorage.setItem(\"_TOKEN\",data.token);\r\n        router.push(\"/\");\r\n      }\r\n\r\n    }catch(err){\r\n        seterrmsg(true)\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport const resigterreq=async({setbackenderror,userdata})=>{\r\n    \r\n  try{\r\n    const{data}=await axios.post(\"/register\",{userdata:userdata})\r\n    \r\n    if(data.exist){\r\n        setbackenderror(\"EXİST\")\r\n    }\r\n    else{\r\n        //kayıt olmanız başarılı\r\n    }\r\n  }catch(err){\r\n      seterrmsg(true)\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}