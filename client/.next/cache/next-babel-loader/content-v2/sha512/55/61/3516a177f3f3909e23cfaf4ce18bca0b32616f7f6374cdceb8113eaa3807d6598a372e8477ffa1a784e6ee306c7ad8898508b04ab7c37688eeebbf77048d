{"ast":null,"code":"import axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3001\";\n\nconst Errorhandler = ({\n  data,\n  seterrmsg,\n  setwindow,\n  setcontextdata,\n  setlogged,\n  setspinner\n}) => {\n  if (data && data.error) {\n    seterrmsg(true);\n    setwindow(true);\n    return false;\n  } else if (data == \"Unauthorized\") {\n    setcontextdata({});\n    setlogged(false);\n    setspinner(true);\n    localStorage.removeItem(\"TOKEN\");\n    return false;\n  } else {\n    return true;\n  }\n};\n\nexport const loginreq = async ({\n  setlogged,\n  setspinner,\n  setuserdata,\n  userdata,\n  router,\n  seterrmsg,\n  setbackenderror,\n  setactive\n}) => {\n  try {\n    const {\n      data\n    } = await axios.post(\"/login\", {\n      userdata: userdata\n    });\n    console.log(data);\n\n    if (data.wrong == \"WP\") {\n      setbackenderror(\"WP\");\n      setactive(true);\n    } else if (data.wrong == \"WE\") {\n      setbackenderror(\"WE\");\n      setactive(true);\n    } else {\n      setlogged(true);\n      setuserdata(data.Userdata);\n      setspinner(true);\n      localStorage.setItem(\"TOKEN\", data.token); //http cookie only ile store edicez\n\n      router.push(\"/\");\n    }\n  } catch (err) {\n    seterrmsg(true);\n  }\n};\nexport const resigterreq = async ({\n  setbackenderror,\n  userdata,\n  setactive,\n  seterrmsg\n}) => {\n  console.log(\"\");\n\n  try {\n    const {\n      data\n    } = await axios.post(\"/register\", {\n      userdata: userdata\n    });\n\n    if (data.exist) {\n      setbackenderror(\"EXİST\");\n      setactive(true);\n    } else {\n      console.log(\"Başarılı kayıt\");\n    }\n  } catch (err) {\n    seterrmsg(true);\n    console.log(\"sorun var\");\n  }\n};\nexport const producereq = async ({\n  contentdata,\n  seterrmsg,\n  setwindow,\n  router\n}) => {\n  try {\n    const {\n      data\n    } = await axios.post(\"/content/produce\", {\n      contentdata: contentdata\n    });\n\n    if (Errorhandler({\n      data,\n      setwindow,\n      seterrmsg\n    })) {\n      setwindow(true);\n      router.push(\"/profile/content\"); //we route işlemi\n    } else {\n      return;\n    }\n  } catch (err) {\n    seterrmsg(true);\n    console.log(\"burada\");\n  }\n};\nexport const Producecommentreq = async ({\n  Message,\n  setnumbercom,\n  setwindow,\n  UserId,\n  ContentId,\n  seterrmsg\n}) => {\n  try {\n    const {\n      data\n    } = await axios.post(\"/comment/produce\", {\n      contentdata: {\n        Message: Message,\n        UserId: UserId,\n        ContentId: ContentId\n      }\n    });\n\n    if (Errorhandler({\n      data,\n      seterrmsg\n    })) {\n      setnumbercom(prev => prev + 1);\n      return; //we route işlemi\n    } else {\n      console.log(\"falselan\");\n      return;\n    }\n  } catch (err) {\n    seterrmsg(true);\n    console.log(\"burada\");\n  }\n};\nexport const Homereq = async ({\n  currentdata,\n  setspinner,\n  seterrmsg,\n  setwindow,\n  setcontentdata,\n  order,\n  setstopreq\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`content/gethome/${order}`);\n\n    if (Errorhandler({\n      data,\n      seterrmsg,\n      setwindow\n    })) {\n      if (data.data.length == 0) {\n        setstopreq(false);\n      }\n\n      const Current = [...currentdata];\n      const Mydata = [...data.data]; //push metodu bir diziyi bir dizinin içine pushluyor fakat concat elemanları\n\n      setcontentdata(Current.concat(Mydata));\n      setspinner(false);\n    } else {\n      return;\n    }\n  } catch (error) {\n    seterrmsg(true);\n  }\n};\nexport const Createrelationreq = async ({\n  UserId,\n  PostId,\n  attribute,\n  seterrmsg,\n  setwindow,\n  relationtype,\n  UserIdofcontent\n}) => {\n  try {\n    const {\n      data\n    } = await axios.post(`content/createrelation`, {\n      UserId: UserId,\n      PostId: PostId,\n      attribute: attribute,\n      relationtype: relationtype,\n      UserIdofcontent: UserIdofcontent\n    });\n    if (Errorhandler({\n      data,\n      seterrmsg,\n      setwindow\n    })) return;else return;\n  } catch (error) {\n    console.log(\"relation error\"); //seterrmsg(true);\n  }\n};\nexport const Contentreq = async ({\n  contentId,\n  setcontent,\n  seterrmsg,\n  setwindow\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`content/${contentId}`);\n\n    if (Errorhandler({\n      data,\n      seterrmsg,\n      setwindow\n    })) {\n      console.log(data.data);\n      setcontent(data.data);\n    } else if (data == \"Unauthroized\") {//\n    } else {\n      return;\n    }\n  } catch (error) {\n    seterrmsg(true);\n  }\n};\nexport const Commentreq = async ({\n  contentId,\n  setactiveproduce,\n  setcomment,\n  seterrmsg,\n  setwindow\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`comment/${contentId}`);\n\n    if (Errorhandler({\n      data,\n      seterrmsg,\n      setwindow\n    })) {\n      console.log(data.data);\n      setcomment(data.data);\n      setactiveproduce(false);\n    } else if (data == \"Unauthroized\") {//\n    } else {\n      return;\n    }\n  } catch (error) {\n    seterrmsg(true);\n  }\n};\nexport const Contextdata = async ({\n  Token,\n  setspinner,\n  setcontextdata,\n  seterrmsg,\n  setwindow,\n  setlogged\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`/user/getuserdata`, {\n      headers: {\n        \"authorization\": `Bearer ${Token}`\n      }\n    });\n\n    if (Errorhandler({\n      data,\n      seterrmsg,\n      setwindow,\n      setcontextdata,\n      setlogged,\n      setspinner\n    })) {\n      const mydata = {\n        UserId: data.userdata.id,\n        Username: data.userdata.firstname,\n        Usersurname: data.userdata.lastname,\n        Userrole: data.userdata.role,\n        Userimage: data.userdata.imageurl\n      };\n      setcontextdata(mydata);\n      setspinner(true);\n      setlogged(true);\n    } else {\n      return;\n    }\n  } catch (err) {\n    console.log(\"errorburadaduruyor\");\n  }\n};\nexport const Getusercontent = async ({\n  UserId,\n  params,\n  setdata,\n  setwindow,\n  seterrmsg,\n  order,\n  setstopscrolling,\n  currentdata\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`content/usercontent/${params}/${UserId}/${order}`);\n    console.log(data.data);\n\n    if (Errorhandler({\n      data\n    })) {\n      if (data.data.length == 0) {\n        setstopscrolling(true);\n      }\n\n      const Current = [...currentdata];\n      const Mydata = [...data.data]; //push metodu bir diziyi bi  r dizinin içine pushluyor fakat concat elemanları\n\n      setdata(Mydata);\n    } else if (data == \"Unauthroized\") {//\n    } else {\n      return;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const Getuserprofilecontent = async ({\n  setdata,\n  catogery,\n  UserId\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`content/profilecontent/${catogery}/${UserId}`);\n\n    if (Errorhandler({\n      data\n    })) {\n      setdata(data.data);\n    } else if (data == \"Unauthroized\") {//\n    } else {\n      return;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const Getuserprofile = async ({\n  UserId,\n  setuserdata\n}) => {\n  try {\n    const {\n      data\n    } = await axios.get(`user/getuserprofile/${UserId}`);\n    console.log(data);\n\n    if (Errorhandler({\n      data\n    })) {\n      setuserdata(data.userdata);\n    } else if (data == \"Unauthroized\") {//\n    } else {\n      return;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const Createuserrelation = async ({\n  UserId,\n  FollowedId,\n  checkiffollow\n}) => {\n  try {\n    const {\n      data\n    } = await axios.post(`user/createuserrelation`, {\n      FollowerId: UserId,\n      FollowedId: FollowedId,\n      checkiffollow: checkiffollow\n    });\n    if (Errorhandler({\n      data,\n      seterrmsg,\n      setwindow\n    })) return;else return;\n  } catch (error) {\n    console.log(\"relation error\"); //seterrmsg(true);\n  }\n};\nexport const Notificationreq = async UserId => {\n  try {\n    const {\n      data\n    } = await axios.get(`notification/getrows/${UserId}`);\n    console.log(\"NOT DATA  \" + data.mydata);\n  } catch (error) {\n    console.log(\"relation error\"); //seterrmsg(true);\n  }\n};","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/Api/Api.js"],"names":["axios","defaults","baseURL","Errorhandler","data","seterrmsg","setwindow","setcontextdata","setlogged","setspinner","error","localStorage","removeItem","loginreq","setuserdata","userdata","router","setbackenderror","setactive","post","console","log","wrong","Userdata","setItem","token","push","err","resigterreq","exist","producereq","contentdata","Producecommentreq","Message","setnumbercom","UserId","ContentId","prev","Homereq","currentdata","setcontentdata","order","setstopreq","get","length","Current","Mydata","concat","Createrelationreq","PostId","attribute","relationtype","UserIdofcontent","Contentreq","contentId","setcontent","Commentreq","setactiveproduce","setcomment","Contextdata","Token","headers","mydata","id","Username","firstname","Usersurname","lastname","Userrole","role","Userimage","imageurl","Getusercontent","params","setdata","setstopscrolling","Getuserprofilecontent","catogery","Getuserprofile","Createuserrelation","FollowedId","checkiffollow","FollowerId","Notificationreq"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL=\"http://localhost:3001\";\r\n\r\n\r\n\r\nconst Errorhandler=({data,seterrmsg,setwindow,setcontextdata,setlogged,setspinner})=>{\r\n\r\n   if(data && data.error){\r\n\r\n      seterrmsg(true)\r\n      setwindow(true);\r\n      return false;\r\n\r\n   }\r\n   else if(data == \"Unauthorized\"){\r\n      \r\n      setcontextdata({});\r\n      setlogged(false);\r\n      setspinner(true);\r\n      localStorage.removeItem(\"TOKEN\");\r\n      return false;  \r\n      \r\n   }\r\n   else{\r\n      return true;\r\n   }\r\n   \r\n}\r\n\r\nexport const loginreq=async({setlogged,setspinner,setuserdata,userdata,router,seterrmsg,setbackenderror,setactive})=>{\r\n\r\n    try{\r\n\r\n      const{data}=await axios.post(\"/login\",{userdata:userdata})\r\n      console.log(data);\r\n      \r\n      if(data.wrong == \"WP\"){\r\n\r\n        setbackenderror(\"WP\")\r\n        setactive(true);\r\n\r\n      }\r\n      else if(data.wrong == \"WE\"){\r\n\r\n        setbackenderror(\"WE\")\r\n        setactive(true);\r\n\r\n      }\r\n      else{\r\n        setlogged(true);\r\n        setuserdata(data.Userdata);\r\n        setspinner(true);\r\n        localStorage.setItem(\"TOKEN\",data.token);//http cookie only ile store edicez\r\n        router.push(\"/\");\r\n      }\r\n\r\n    }catch(err){\r\n        seterrmsg(true)\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport const resigterreq=async({setbackenderror,userdata,setactive,seterrmsg})=>{\r\n    console.log(\"\")\r\n  try{\r\n    const{data}=await axios.post(\"/register\",{userdata:userdata})\r\n    \r\n    if(data.exist){\r\n        setbackenderror(\"EXİST\")\r\n        setactive(true)\r\n    }\r\n    else{\r\n        console.log(\"Başarılı kayıt\")\r\n    }\r\n  }catch(err){\r\n      seterrmsg(true)\r\n      console.log(\"sorun var\");\r\n  }\r\n}\r\n\r\nexport const producereq=async({contentdata,seterrmsg,setwindow,router})=>{\r\n\r\n  try{\r\n    \r\n    const{data}=await axios.post(\"/content/produce\",{contentdata:contentdata})\r\n    \r\n    if(Errorhandler({data,setwindow,seterrmsg})){\r\n        setwindow(true);\r\n        router.push(\"/profile/content\")\r\n        //we route işlemi\r\n    }\r\n    else{ \r\n       return;\r\n    }\r\n\r\n  }catch(err){\r\n      seterrmsg(true)\r\n      console.log(\"burada\")\r\n  }\r\n\r\n}\r\n\r\nexport const Producecommentreq=async ({Message,setnumbercom,setwindow,UserId,ContentId,seterrmsg})=>{\r\n\r\n  try{\r\n    \r\n    const{data}=await axios.post(\"/comment/produce\",{contentdata:{\r\n      Message:Message,\r\n      UserId:UserId,\r\n      ContentId:ContentId,\r\n    }})\r\n    \r\n    if(Errorhandler({data,seterrmsg})){    \r\n        setnumbercom(prev=>prev+1)\r\n        return;\r\n        //we route işlemi\r\n    }\r\n    else{ \r\n      console.log(\"falselan\");\r\n       return;\r\n    }\r\n\r\n  }catch(err){\r\n      seterrmsg(true)\r\n      console.log(\"burada\")\r\n  }\r\n\r\n}\r\n\r\nexport const Homereq=async({currentdata,setspinner,seterrmsg,setwindow,setcontentdata,order,setstopreq})=>{\r\n  try {\r\n\r\n    const{data}=await axios.get(`content/gethome/${order}`)\r\n  \r\n    if(Errorhandler({data,seterrmsg,setwindow})){\r\n\r\n      if(data.data.length == 0){\r\n        setstopreq(false)\r\n      }\r\n\r\n      const Current=[...currentdata];\r\n      const Mydata=[...data.data];\r\n      //push metodu bir diziyi bir dizinin içine pushluyor fakat concat elemanları\r\n      setcontentdata(Current.concat(Mydata));\r\n      setspinner(false);\r\n    }    \r\n    else{\r\n      return;\r\n    }\r\n  \r\n  } catch (error) {\r\n       seterrmsg(true);\r\n  }\r\n}\r\n\r\n\r\nexport const Createrelationreq=async({UserId,PostId,attribute,seterrmsg,setwindow,relationtype,UserIdofcontent})=>{\r\n\r\n  try {\r\n\r\n    const{data}=await axios.post(`content/createrelation`,{\r\n      UserId:UserId,\r\n      PostId:PostId,\r\n      attribute:attribute,\r\n      relationtype:relationtype,\r\n      UserIdofcontent:UserIdofcontent,\r\n    })\r\n\r\n    if(Errorhandler({data,seterrmsg,setwindow}))\r\n    return;\r\n    else\r\n    return;\r\n    \r\n  \r\n  } catch (error) {\r\n       console.log(\"relation error\")\r\n       //seterrmsg(true);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const Contentreq=async({contentId,setcontent,seterrmsg,setwindow})=>{\r\n\r\n  try {\r\n\r\n    const{data}=await axios.get(`content/${contentId}`);\r\n    \r\n    if(Errorhandler({data,seterrmsg,setwindow})){ \r\n      console.log(data.data);\r\n       setcontent(data.data);\r\n\r\n       \r\n\r\n    }    \r\n    else if(data == \"Unauthroized\"){\r\n       //\r\n    }\r\n    else{\r\n      return;\r\n    }\r\n  \r\n  } catch (error){\r\n\r\n       seterrmsg(true);\r\n       \r\n  }\r\n\r\n}\r\n\r\nexport const Commentreq=async({contentId,setactiveproduce,setcomment,seterrmsg,setwindow})=>{\r\n\r\n  try {\r\n\r\n    const{data}=await axios.get(`comment/${contentId}`);\r\n    \r\n    if(Errorhandler({data,seterrmsg,setwindow})){ \r\n       console.log(data.data)\r\n       setcomment(data.data);\r\n       setactiveproduce(false);\r\n    }   \r\n\r\n    else if(data == \"Unauthroized\"){\r\n       //\r\n    }\r\n    else{\r\n      return;\r\n    }\r\n  \r\n  } catch (error){\r\n\r\n       seterrmsg(true);\r\n       \r\n  }\r\n\r\n}\r\n\r\nexport const Contextdata=async ({Token,setspinner,setcontextdata,seterrmsg,setwindow,setlogged})=>{\r\n \r\n  try {\r\n\r\n    const {data}=await axios.get(`/user/getuserdata`,{\r\n      headers:{\r\n        \"authorization\":`Bearer ${Token}`,\r\n      }\r\n    });\r\n  \r\n    if(Errorhandler({data,seterrmsg,setwindow,setcontextdata,setlogged,setspinner})){ \r\n\r\n      const mydata={ \r\n        UserId:data.userdata.id,\r\n        Username:data.userdata.firstname,\r\n        Usersurname:data.userdata.lastname,\r\n        Userrole:data.userdata.role,\r\n        Userimage:data.userdata.imageurl,\r\n     }\r\n  \r\n      setcontextdata(mydata);\r\n      setspinner(true);\r\n      setlogged(true);\r\n      \r\n    }   \r\n    else{\r\n        return;\r\n    }\r\n \r\n\r\n  } catch (err) {\r\n      console.log(\"errorburadaduruyor\");\r\n  }\r\n}\r\n\r\nexport const Getusercontent=async({UserId,params,setdata,setwindow,seterrmsg,order,setstopscrolling,currentdata})=>{\r\n  \r\n  try {\r\n\r\n    const{data}=await axios.get(`content/usercontent/${params}/${UserId}/${order}`);\r\n     console.log(data.data)\r\n    if(Errorhandler({data})){ \r\n       \r\n       if(data.data.length == 0){\r\n          setstopscrolling(true);\r\n       } \r\n        \r\n       \r\n       const Current=[...currentdata];\r\n       const Mydata=[...data.data];\r\n      //push metodu bir diziyi bi  r dizinin içine pushluyor fakat concat elemanları\r\n       setdata(Mydata);\r\n       \r\n    }    \r\n    else if(data == \"Unauthroized\"){\r\n       //\r\n    }\r\n    else{\r\n      return;\r\n    }\r\n  \r\n  } catch (error){\r\n\r\n       console.log(error);\r\n       \r\n  }\r\n\r\n}\r\n\r\nexport const Getuserprofilecontent=async({setdata,catogery,UserId})=>{\r\n\r\n  try {\r\n    const{data}=await axios.get(`content/profilecontent/${catogery}/${UserId}`);\r\n\r\n    if(Errorhandler({data})){ \r\n\r\n       setdata(data.data)\r\n\r\n    }    \r\n    else if(data == \"Unauthroized\"){\r\n       //\r\n    }\r\n    else{\r\n      return;\r\n    }\r\n  \r\n  } catch (error){\r\n\r\n       console.log(error);\r\n       \r\n  }\r\n}\r\n\r\nexport const Getuserprofile=async({UserId,setuserdata})=>{\r\n\r\n  try {\r\n\r\n    const{data}=await axios.get(`user/getuserprofile/${UserId}`);\r\n\r\n    console.log(data)\r\n    \r\n    if(Errorhandler({data})){ \r\n\r\n       setuserdata(data.userdata)\r\n\r\n    }    \r\n    else if(data == \"Unauthroized\"){\r\n       //\r\n    }\r\n    else{\r\n\r\n      return;\r\n\r\n    }\r\n  \r\n  } catch (error){\r\n\r\n       console.log(error);\r\n       \r\n  }\r\n  \r\n}\r\n\r\nexport const Createuserrelation=async({UserId,FollowedId,checkiffollow})=>{\r\n\r\n  try {\r\n\r\n    const{data}=await axios.post(`user/createuserrelation`,{\r\n      FollowerId:UserId,\r\n      FollowedId:FollowedId,\r\n      checkiffollow:checkiffollow,\r\n    })\r\n\r\n    if(Errorhandler({data,seterrmsg,setwindow}))\r\n    return;\r\n    else\r\n    return;\r\n\r\n  } catch (error) {\r\n       console.log(\"relation error\")\r\n       //seterrmsg(true);\r\n  }\r\n\r\n}\r\n\r\nexport const Notificationreq=async(UserId)=>{\r\n\r\n  try {\r\n\r\n    const{data}=await axios.get(`notification/getrows/${UserId}`);\r\n    \r\n    console.log(\"NOT DATA  \"+data.mydata);\r\n\r\n  \r\n\r\n  } catch (error) {\r\n       console.log(\"relation error\")\r\n       //seterrmsg(true);\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}