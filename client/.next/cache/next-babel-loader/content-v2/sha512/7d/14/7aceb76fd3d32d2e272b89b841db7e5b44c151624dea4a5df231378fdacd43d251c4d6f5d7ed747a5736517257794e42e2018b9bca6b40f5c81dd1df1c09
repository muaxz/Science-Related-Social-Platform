{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\bexsd\\\\Desktop\\\\nextproject\\\\client\\\\containers\\\\pages\\\\Content.js\";\nimport React, { useEffect, useState, useRef, useContext, useCallback } from 'react';\nimport Icon from \"../../components/UI/Icon\";\nimport styled from \"styled-components\";\nimport { Porfileimage } from \"../../components/styledcomponents/button\";\nimport { Producecommentreq, Commentreq, Commentanswerreq } from \"../../Api/Api\";\nimport { createusercontext } from \"../../context/Usercontext\";\nimport Commentpart from '../../components/pages/Content/Commentsection/Commentpart';\nimport useScroll from \"../../hooks/Scroll\";\nconst Exteriorcontent = styled.div.withConfig({\n  displayName: \"Content__Exteriorcontent\",\n  componentId: \"t38n1c-0\"\n})([\"background-color:\", \";max-width:950px;margin:50px auto;width:100%\"], ({\n  iscomment\n}) => iscomment ? \"\" : \"white\");\nconst Commentdiv = styled.div.withConfig({\n  displayName: \"Content__Commentdiv\",\n  componentId: \"t38n1c-1\"\n})([\"margin:50px auto;max-width:700px;\"]);\nconst ImageDiv = styled.div.withConfig({\n  displayName: \"Content__ImageDiv\",\n  componentId: \"t38n1c-2\"\n})([\"position:relative;width:100%;height:400px;\"]);\nconst ContentDiv = styled.div.withConfig({\n  displayName: \"Content__ContentDiv\",\n  componentId: \"t38n1c-3\"\n})([\"margin-top:20px;padding:25px;\"]);\nconst ProfileDiv = styled.div.withConfig({\n  displayName: \"Content__ProfileDiv\",\n  componentId: \"t38n1c-4\"\n})([\"box-sizing:border-box;padding-left:25px;padding-top:15px;padding-bottom:15px;display:flex;align-items:center;\"]);\nconst Attribute = styled.div.withConfig({\n  displayName: \"Content__Attribute\",\n  componentId: \"t38n1c-5\"\n})([\"display:\", \";position:absolute;top:35px;right:35px;border-radius:7px;background-color:white;\"], ({\n  active\n}) => active ? \"block\" : \"none\");\nconst Attributeholder = styled.div.withConfig({\n  displayName: \"Content__Attributeholder\",\n  componentId: \"t38n1c-6\"\n})([\"display:flex;align-items:center;border-radius:7px;padding:5px;&:hover{background-color:#E2E3E3;cursor:pointer;}\"]); //todo map array to create attribute list\n\nexport default function Content({\n  Contentdata,\n  comments,\n  id\n}) {\n  const {\n    current\n  } = useRef([{\n    icon: \"fas fa-bookmark\",\n    desc: \"Gönderiyi Kaydet\"\n  }, {\n    icon: \"fas fa-thumbs-up\",\n    desc: \"Gönderiyi Beğen\"\n  }, {\n    icon: \"fas fa-retweet\",\n    desc: \"Gönderiyi Profil Sayfamda Göster\"\n  }]);\n  const {\n    bottom\n  } = useScroll();\n  const {\n    0: content,\n    1: setcontent\n  } = useState(Contentdata);\n  const {\n    0: commentlist,\n    1: setcommentlist\n  } = useState(comments);\n  const {\n    0: numberofcomment,\n    1: setnumbercom\n  } = useState(0);\n  const {\n    0: active,\n    1: setactive\n  } = useState(false);\n  const {\n    0: actives,\n    1: seterrmsg\n  } = useState(false);\n  const {\n    0: activeproduce,\n    1: setactiveproduce\n  } = useState(false);\n  const {\n    userdata\n  } = useContext(createusercontext); //const {id}=router.query;\n\n  useEffect(() => {\n    if (numberofcomment > 0) {\n      //ilk sayfa geldiginde isteği önlemk için\n      setactiveproduce(true);\n      Commentreq({\n        contentId: id,\n        setcomment: setcommentlist,\n        commentlist: commentlist,\n        last: true,\n        order: commentlist.length + 10,\n        setactiveproduce: setactiveproduce,\n        seterrmsg: seterrmsg\n      });\n    }\n  }, [numberofcomment]);\n  useEffect(() => {\n    if (bottom) {\n      Commentreq({\n        contentId: id,\n        setcomment: setcommentlist,\n        commentlist: commentlist,\n        last: false,\n        order: commentlist.length + 10,\n        setactiveproduce: setactiveproduce,\n        seterrmsg: seterrmsg\n      });\n    }\n  }, [bottom]);\n  useEffect(() => {\n    //changeable\n    setcontent(Contentdata);\n    setcommentlist(comments);\n  }, [id]);\n  const Produce = useCallback(message => {\n    Producecommentreq({\n      ContentId: id,\n      UserId: userdata.UserId,\n      Message: message,\n      TakerId: content.personal.id,\n      setnumbercom: setnumbercom,\n      seterrmsg: seterrmsg\n    });\n  }, [userdata.UserId]);\n  const Answerhandler = useCallback((Answer, UpperId) => {\n    console.log(\"BURADAAA\");\n    Commentanswerreq({\n      UppercommentId: UpperId,\n      UserId: userdata.UserId,\n      Answer: Answer,\n      ContentId: id\n    });\n  }, [userdata.UserId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"950px\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Exteriorcontent, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ImageDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/car.jpg\",\n            style: {\n              objectFit: \"cover\",\n              width: \"100%\",\n              height: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Icon, {\n            activefunc: () => setactive(!active),\n            className: \"fas fa-ellipsis-h\",\n            Iconconfig: {\n              position: \"absolute\",\n              top: \"10px\",\n              right: \"10px\",\n              color: \"white\",\n              borderRadius: \"50%\",\n              width: \"25px\",\n              height: \"25px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Attribute, {\n            active: active,\n            children: current.map(item => /*#__PURE__*/_jsxDEV(Attributeholder, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                className: item.icon,\n                Iconconfig: {\n                  width: \"28px\",\n                  height: \"28px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: \"5px\",\n                  fontSize: \"13px\"\n                },\n                children: item.desc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, this)]\n            }, item.icon, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProfileDiv, {\n          children: [/*#__PURE__*/_jsxDEV(Porfileimage, {\n            profile: \"/black.jpg\",\n            width: \"40px\",\n            height: \"40px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Duhan \\xD6zt\\xFCrk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#5c6b73\",\n                fontSize: \"15px\"\n              },\n              children: \"12/08/2020\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ContentDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: \"10px\",\n              color: \"#e63946\"\n            },\n            children: \" The state plans to pay around 20 percent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: \"The structre of the culture in ottoman empire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"The state plans to pay around 20 percent of the project from its central budget. The rest will come from a $1.5 billion Chinese bank loan to Hungary. The documents say that all the work will be done by Chinese, not Hungarian, workers and all the material will be Chinese. \\u201CThe Chinese are doing everything, while we\\u2019re doing only one thing: paying,\\u201D Karacsony said. Hungary\\u2019s government follows the economic thinking known as \\u201CEastern Opening.\\u201D It favors increased diplomacy and trade with countries like China, Russia, Turkey and others in Central Asia. Although it joined the European Union in 2004, the Orban government often has disputes with other E.U. members. Peter Kreko is the director of the Budapest-based research company Political Capital. He believes the Fudan project is part of China\\u2019s efforts to increase soft power. And he said the project could help China\\u2019s spy operations. Hungary is a popular place for Russian and Chinese spies because the government shows, Kreko said, \\u201Cthe lack of willingness of intelligence forces to push back malign foreign influence.\\u201D Neither the Hungarian government\\u2019s spokesperson nor the ministry leading the project answered requests for comments.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: commentlist.length + \" Yorum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Commentdiv, {\n      children: /*#__PURE__*/_jsxDEV(Commentpart, {\n        handleanswer: Answerhandler,\n        spinner: activeproduce,\n        list: commentlist,\n        Producecomment: Produce\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/bexsd/Desktop/nextproject/client/containers/pages/Content.js"],"names":["React","useEffect","useState","useRef","useContext","useCallback","Icon","styled","Porfileimage","Producecommentreq","Commentreq","Commentanswerreq","createusercontext","Commentpart","useScroll","Exteriorcontent","div","iscomment","Commentdiv","ImageDiv","ContentDiv","ProfileDiv","Attribute","active","Attributeholder","Content","Contentdata","comments","id","current","icon","desc","bottom","content","setcontent","commentlist","setcommentlist","numberofcomment","setnumbercom","setactive","actives","seterrmsg","activeproduce","setactiveproduce","userdata","contentId","setcomment","last","order","length","Produce","message","ContentId","UserId","Message","TakerId","personal","Answerhandler","Answer","UpperId","console","log","UppercommentId","maxWidth","margin","objectFit","width","height","position","top","right","color","borderRadius","map","item","marginLeft","fontSize","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect,useState,useRef, useContext,useCallback} from 'react'\r\nimport Icon from \"../../components/UI/Icon\";\r\nimport styled from \"styled-components\";\r\nimport {Porfileimage} from \"../../components/styledcomponents/button\";\r\nimport {Producecommentreq,Commentreq,Commentanswerreq} from \"../../Api/Api\";\r\nimport {createusercontext} from \"../../context/Usercontext\";\r\nimport Commentpart from '../../components/pages/Content/Commentsection/Commentpart';\r\nimport useScroll from \"../../hooks/Scroll\"\r\n\r\n\r\n\r\n\r\nconst Exteriorcontent=styled.div`\r\nbackground-color:${({iscomment})=>iscomment ? \"\" : \"white\"};\r\nmax-width:950px;\r\nmargin:50px auto;\r\nwidth:100%\r\n`\r\n\r\nconst Commentdiv=styled.div`\r\nmargin:50px auto;\r\nmax-width:700px;\r\n`\r\n\r\nconst ImageDiv=styled.div`\r\nposition:relative;\r\nwidth:100%;\r\nheight:400px;\r\n`\r\n\r\nconst ContentDiv=styled.div`\r\nmargin-top:20px;\r\npadding:25px;\r\n`\r\n\r\nconst ProfileDiv=styled.div`\r\nbox-sizing:border-box;\r\npadding-left:25px;\r\npadding-top:15px;\r\npadding-bottom:15px;\r\ndisplay:flex;\r\nalign-items:center;\r\n`\r\n\r\nconst Attribute=styled.div`\r\ndisplay:${({active})=>active ? \"block\" : \"none\"};\r\nposition:absolute;\r\ntop:35px;\r\nright:35px;\r\nborder-radius:7px;\r\nbackground-color:white;\r\n`\r\n\r\n\r\n\r\nconst Attributeholder=styled.div`\r\ndisplay:flex;\r\nalign-items:center;\r\nborder-radius:7px;\r\npadding:5px;\r\n&:hover{\r\n background-color:#E2E3E3;\r\n cursor:pointer;\r\n}\r\n`\r\n//todo map array to create attribute list\r\n\r\nexport default function Content({Contentdata,comments,id}){\r\n\r\n    const {current}=useRef([{icon:\"fas fa-bookmark\",desc:\"Gönderiyi Kaydet\"},{icon:\"fas fa-thumbs-up\",desc:\"Gönderiyi Beğen\"},{icon:\"fas fa-retweet\",desc:\"Gönderiyi Profil Sayfamda Göster\"}])\r\n    const {bottom} = useScroll();\r\n    const [content,setcontent]=useState(Contentdata);\r\n    const [commentlist,setcommentlist]=useState(comments);\r\n    const [numberofcomment,setnumbercom]=useState(0);\r\n    const [active,setactive]=useState(false);\r\n    const [actives,seterrmsg]=useState(false);\r\n    const [activeproduce,setactiveproduce]=useState(false);\r\n    const {userdata}=useContext(createusercontext);\r\n    //const {id}=router.query;\r\n  \r\n   \r\n    useEffect(()=>{\r\n\r\n        if(numberofcomment > 0){\r\n            //ilk sayfa geldiginde isteği önlemk için\r\n            setactiveproduce(true);\r\n            Commentreq({\r\n                contentId:id,\r\n                setcomment:setcommentlist,\r\n                commentlist:commentlist,\r\n                last:true,\r\n                order:commentlist.length+10,\r\n                setactiveproduce:setactiveproduce,\r\n                seterrmsg:seterrmsg,\r\n            })\r\n        }\r\n\r\n    },[numberofcomment])\r\n\r\n    useEffect(()=>{\r\n\r\n       if(bottom){\r\n            \r\n            Commentreq({\r\n                contentId:id,\r\n                setcomment:setcommentlist,\r\n                commentlist:commentlist,\r\n                last:false,\r\n                order:commentlist.length+10,\r\n                setactiveproduce:setactiveproduce,\r\n                seterrmsg:seterrmsg,\r\n            })\r\n\r\n       }\r\n\r\n    },[bottom])\r\n\r\n    useEffect(()=>{\r\n       //changeable\r\n       setcontent(Contentdata);\r\n       setcommentlist(comments);\r\n    },[id])\r\n    \r\n    const Produce=useCallback((message)=>{\r\n\r\n        Producecommentreq({\r\n            ContentId:id,\r\n            UserId:userdata.UserId,\r\n            Message:message,\r\n            TakerId:content.personal.id,\r\n            setnumbercom:setnumbercom,\r\n            seterrmsg:seterrmsg,\r\n        })\r\n\r\n    },[userdata.UserId])\r\n\r\n    const Answerhandler=useCallback((Answer,UpperId)=>{\r\n          console.log(\"BURADAAA\")\r\n          Commentanswerreq({\r\n              UppercommentId:UpperId,\r\n              UserId:userdata.UserId,\r\n              Answer:Answer,\r\n              ContentId:id\r\n          })\r\n\r\n    },[userdata.UserId])\r\n   \r\n    return (\r\n        <div style={{maxWidth:\"950px\",margin:\"auto\"}}>\r\n            <Exteriorcontent>\r\n                <div>\r\n                    <ImageDiv>\r\n                        <img src={\"/car.jpg\"} style={{objectFit:\"cover\",width:\"100%\",height:\"100%\"}} ></img>\r\n                        <Icon  activefunc={()=>setactive(!active)} className=\"fas fa-ellipsis-h\" Iconconfig={{position:\"absolute\",top:\"10px\",right:\"10px\",color:\"white\",borderRadius:\"50%\",width:\"25px\",height:\"25px\"}}></Icon>\r\n                        <Attribute active={active}>\r\n                            {current.map(item=>(\r\n                            <Attributeholder key={item.icon}>\r\n                                <Icon className={item.icon} Iconconfig={{width:\"28px\",height:\"28px\"}}></Icon>\r\n                                <span style={{marginLeft:\"5px\",fontSize:\"13px\"}}>{item.desc}</span>\r\n                            </Attributeholder>  \r\n                            ))}\r\n                        </Attribute>\r\n                    </ImageDiv>\r\n                    <ProfileDiv>\r\n                        <Porfileimage profile=\"/black.jpg\" width=\"40px\" height=\"40px\"></Porfileimage>\r\n                        <div style={{marginLeft:\"10px\"}}>\r\n                            <span>Duhan Öztürk</span>\r\n                            <p style={{color:\"#5c6b73\",fontSize:\"15px\"}}>12/08/2020</p>\r\n                        </div>\r\n                        \r\n                    </ProfileDiv>\r\n                    <ContentDiv>\r\n                        <h2 style={{marginBottom:\"10px\",color:\"#e63946\"}}> The state plans to pay around 20 percent</h2>\r\n                        <h3 style={{marginBottom:\"10px\"}}>The structre of the culture in ottoman empire</h3>\r\n                        <div>\r\n                            <p>\r\n                            The state plans to pay around 20 percent of the project from its central budget. The rest will come from a $1.5 billion Chinese bank loan to Hungary. The documents say that all the work will be done by Chinese, not Hungarian, workers and all the material will be Chinese.\r\n\r\n                            “The Chinese are doing everything, while we’re doing only one thing: paying,” Karacsony said.\r\n\r\n                            Hungary’s government follows the economic thinking known as “Eastern Opening.” It favors increased diplomacy and trade with countries like China, Russia, Turkey and others in Central Asia. Although it joined the European Union in 2004, the Orban government often has disputes with other E.U. members.\r\n\r\n                            Peter Kreko is the director of the Budapest-based research company Political Capital. He believes the Fudan project is part of China’s efforts to increase soft power. And he said the project could help China’s spy operations.\r\n\r\n                            Hungary is a popular place for Russian and Chinese spies because the government shows, Kreko said, “the lack of willingness of intelligence forces to push back malign foreign influence.”\r\n\r\n                            Neither the Hungarian government’s spokesperson nor the ministry leading the project answered requests for comments.\r\n                            </p>\r\n                        </div>\r\n                    </ContentDiv>\r\n                </div>\r\n            </Exteriorcontent>\r\n            <hr></hr>\r\n            <p>{commentlist.length+ \" Yorum\"}</p>\r\n            <Commentdiv>\r\n                <Commentpart handleanswer={Answerhandler} spinner={activeproduce} list={commentlist} Producecomment={Produce}></Commentpart>\r\n            </Commentdiv>\r\n        </div>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}